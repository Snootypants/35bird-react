Run 1

Summary

Replaced the pause dialog with a dedicated UI component that surfaces session stats, asteroid breakdown, and resume/exit actions while wiring the new overlay into the main app flow.

Streamlined global styling by pruning the legacy App stylesheet and layering fresh pause-overlay styles into the shared UI theme sheet.

Hardened utility code by simplifying canvas context retrieval and switching the Vitest setup to globalThis helpers to keep lint happy.

diff --git a/src/App.css b/src/App.css
index 7eeea06ce52100d99c9b02a6aea2a4df27cde27a..bac32c20137976a2d43d99dcd55d7cfee064ad53 100644
--- a/src/App.css
+++ b/src/App.css
@@ -1,344 +1,16 @@
 html, body {
-  overflow: hidden;
   margin: 0;
   padding: 0;
   height: 100%;
-}
-
-.app {
-  position: relative;
-  width: 100vw;
-  height: 100vh;
-  background-color: #000;
-  color: white;
-  font-family: Arial, sans-serif;
   overflow: hidden;
-  box-sizing: border-box;
-}
-
-/* .play-area classes removed - unused and potentially conflicting */
-
-.minimap-canvas {
-  position: absolute;
-  bottom: -90px;
-  left: 50%;
-  transform: translateX(-50%);
-  border: 2px solid white;
-  background-color: #000;
-  z-index: 30; /* Above title overlay to avoid dimming on first load */
-  /* Size set dynamically via JavaScript */
-}
-
-.hud-container {
-  position: absolute;
-  bottom: 0;
-  left: 0;
-  right: 0;
-  width: 100%;
-  height: 200px;
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  box-sizing: border-box;
-}
-
-/* Removed - now using inline styles for Score/Lives */
-
-.hud-right {
-  display: flex;
-  align-items: center;
-}
-
-.game-over {
-  color: red;
-  font-size: 24px;
-  font-weight: bold;
-  margin-right: 20px;
-}
-
-.game-button {
-  background-color: #1a1a1a;
-  border: 2px solid white;
-  color: white;
-  padding: 12px 24px;
-  font-size: 18px;
-  font-weight: bold;
-  cursor: pointer;
-  border-radius: 8px;
-  transition: all 0.3s ease;
-}
-
-.game-button:hover {
-  background-color: white;
-  color: black;
-  border-color: white;
-}
-
-.game-button:active {
-  transform: scale(0.95);
 }
 
-
-.title-overlay {
-  position: absolute;
-  top: 0;
-  left: 0;
-  width: 100%;
-  height: 100%;
-  display: flex;
-  flex-direction: column;
-  align-items: center;
-  justify-content: center;
-  background-color: rgba(0, 0, 0, 0.8);
-  z-index: 20;
-}
-
-.title-text {
-  font-size: 64px;
-  font-weight: bold;
-  color: white;
-  text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
-  margin-bottom: 30px;
-  letter-spacing: 4px;
-}
-
-.start-instruction {
-  font-size: 24px;
-  color: rgba(255, 255, 255, 0.9);
-  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
-}
-
-/* Start overlay */
-.start-overlay {
-  position: absolute;
-  top: 0;
-  left: 0;
-  width: 100%;
-  height: 100%;
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  background-color: rgba(0, 0, 0, 0.7);
-  z-index: 30;
-}
-.start-card {
-  color: #fff;
-  text-align: center;
-  padding: 32px 40px;
-  border: 2px solid #fff;
-  border-radius: 10px;
-  background: rgba(0,0,0,0.4);
-}
-.start-title { font-size: 56px; font-weight: bold; margin-bottom: 8px; letter-spacing: 3px; }
-.start-sub { font-size: 18px; opacity: 0.9; margin-bottom: 18px; }
-.start-buttons { display: flex; gap: 20px; justify-content: center; }
-.start-btn {
-  display: flex;
-  flex-direction: column;
-  align-items: center;
-  gap: 6px;
-  background: #121212;
-  border: 2px solid #fff;
-  color: #fff;
-  padding: 14px 18px;
-  font-size: 20px;
-  font-weight: bold;
-  border-radius: 8px;
-  cursor: pointer;
+#root {
+  min-height: 100vh;
 }
-.start-btn:hover { background: #fff; color: #000; }
-.start-desc { font-size: 12px; font-weight: normal; opacity: 0.85; }
 
-/* Pause overlay */
-.pause-overlay {
-  position: absolute;
-  top: 0;
-  left: 0;
+.game-canvas {
+  display: block;
   width: 100%;
   height: 100%;
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  background-color: rgba(0, 0, 0, 0.7);
-  z-index: 25;
-}
-.pause-card {
-  color: #fff;
-  text-align: center;
-  padding: 28px 36px;
-  border: 2px solid #fff;
-  border-radius: 10px;
-  background: rgba(0,0,0,0.4);
-}
-.pause-title { font-size: 48px; font-weight: bold; margin-bottom: 10px; }
-.pause-sub { font-size: 18px; opacity: 0.9; margin-bottom: 12px; }
-.pause-stats { display: flex; gap: 24px; justify-content: center; font-size: 18px; }
-.pause-actions { margin-top: 14px; display: flex; justify-content: center; }
-.pause-exit-btn {
-  background: #121212;
-  color: #fff;
-  border: 2px solid #fff;
-  border-radius: 8px;
-  padding: 10px 14px;
-  font-size: 16px;
-  font-weight: bold;
-  cursor: pointer;
-}
-.pause-exit-btn:hover { background: #fff; color: #000; }
-
-/* Asteroid tracking in pause overlay */
-.pause-asteroids {
-  margin-top: 20px;
-  padding-top: 20px;
-  border-top: 1px solid rgba(255, 255, 255, 0.2);
-}
-
-.pause-asteroids-header {
-  display: flex;
-  justify-content: center;
-  align-items: center;
-  gap: 10px;
-  margin-bottom: 15px;
-}
-
-.asteroids-label {
-  font-size: 14px;
-  text-transform: uppercase;
-  letter-spacing: 1px;
-  opacity: 0.8;
-}
-
-.asteroids-total {
-  font-size: 28px;
-  font-weight: bold;
-  color: #FFD700;
-}
-
-.pause-asteroids-breakdown {
-  display: flex;
-  justify-content: center;
-  gap: 35px;
-}
-
-.asteroid-size-group {
-  display: flex;
-  flex-direction: column;
-  align-items: center;
-  gap: 6px;
-}
-
-.asteroid-icon {
-  border: 2px solid white;
-  border-radius: 50%;
-  background: transparent;
-}
-
-.asteroid-icon.large {
-  width: 36px;
-  height: 36px;
-}
-
-.asteroid-icon.medium {
-  width: 24px;
-  height: 24px;
-}
-
-.asteroid-icon.small {
-  width: 14px;
-  height: 14px;
-}
-
-.asteroid-count-number {
-  font-size: 22px;
-  font-weight: bold;
-  color: white;
-  min-height: 26px;
-}
-
-.asteroid-label {
-  font-size: 11px;
-  text-transform: uppercase;
-  opacity: 0.6;
-  letter-spacing: 0.5px;
-}
-
-
-/* Testing mode indicator */
-.testing-mode-indicator {
-  position: fixed;
-  top: 20px;
-  right: 20px;
-  color: #ff0;
-  font-size: 16px;
-  font-weight: bold;
-  background: rgba(0, 0, 0, 0.7);
-  padding: 8px 12px;
-  border: 2px solid #ff0;
-  border-radius: 4px;
-  z-index: 1000;
-  text-transform: uppercase;
-  letter-spacing: 1px;
-}
-
-/* New HUD Container System */
-.hud-container {
-  position: absolute;
-  height: 120px;
-  background: rgba(0, 0, 0, 0.95);
-  border: 2px solid white;
-  display: flex;
-  flex-direction: column;
-  z-index: 40;
-}
-
-.hud-xpbar {
-  width: 100%;
-  height: 20px;
-  background: rgba(0,0,0,0.5);
-  border-bottom: 2px solid white;
-}
-
-.hud-content {
-  flex: 1;
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  padding: 0 20px;
-  gap: 80px;
-}
-
-.hud-left {
-  display: flex;
-  flex-direction: column;
-  align-items: flex-end;
-  justify-content: center;
-  gap: 4px;
-  min-width: 150px;
-}
-
-.hud-minimap {
-  border: 2px solid rgba(255,255,255,0.8);
-  background: #000;
-  box-shadow: 0 0 10px rgba(0,0,0,0.8);
-}
-
-.hud-right {
-  display: flex;
-  align-items: center;
-  justify-content: flex-start;
-  min-width: 150px;
-}
-
-.hud-stat {
-  font-size: 16px;
-  font-weight: bold;
-  color: white;
-  text-shadow: 1px 1px 3px rgba(0,0,0,0.9);
-  letter-spacing: 0.5px;
-  white-space: nowrap;
-}
-
-/* Remove old minimap positioning */
-.minimap-canvas {
-  display: none !important;
 }
----------------
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..e89f0049b7ef1c5eb75a2c431b8f1947bc6e3313 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -1,44 +1,44 @@
 import { useRef, useEffect, useState, useCallback } from 'react';
 import { Ship } from './components/Ship.js';
 import { CANVAS_WIDTH, CANVAS_HEIGHT, CROSSHAIR_SIZE, INITIAL_LIVES, WORLD_WIDTH, WORLD_HEIGHT, HYPER_JUMP_COUNTDOWN_MS, PLAYFIELD_FRAME_BORDER_OFFSET, COUNTDOWN_COLOR_RANGE_DEGREES, COUNTDOWN_SATURATION_PERCENT, COUNTDOWN_LIGHTNESS_BASE_PERCENT, COUNTDOWN_LIGHTNESS_DELTA, COUNTDOWN_BRIGHTNESS_BOOST } from './utils/constants.js';
 import { LevelUpEffect } from './effects/LevelUpEffect.js';
 import { StageClearEffect } from './effects/StageClearEffect.js';
 import { HyperSpaceJumpEffect } from './effects/HyperSpaceJumpEffect.js';
 import { DeathExplosion } from './effects/DeathExplosion.js';
 import { Camera } from './utils/camera.js';
 import { useGameWorld } from './hooks/useGameWorld.js';
 import { useGameSession } from './hooks/useGameSession.js';
 import { useGameControls } from './hooks/useGameControls.js';
 import { useGameLogic } from './hooks/useGameLogic.js';
 import { useResponsiveLayout } from './hooks/useResponsiveLayout.js';
 import { useGameLoop } from './hooks/useGameLoop.js';
 import { useGameTimer } from './hooks/useGameTimer.js';
 import { renderScene } from './render/gameRenderer.js';
 import { formatCountdown } from './utils/time.js';
-import PauseOverlay from './components/PauseOverlay.jsx';
-import HUD from './components/ui/HUD';
+import PauseOverlay from './components/ui/PauseOverlay.jsx';
+import Hud from './components/ui/HUD';
 import StartScreen from './components/ui/StartScreen';
 import GameOverOverlay from './components/ui/GameOverOverlay';
 import TestConsole from './components/ui/TestConsole.jsx';
 import DebugStatsDisplay from './components/ui/DebugStatsDisplay.jsx';
 import { useTestConsole } from './hooks/useTestConsole.js';
 import './App.css';
 import './styles/theme.css';
 import './styles/ui.css';
 
 function App() {
   const canvasRef = useRef(null);
   const playAreaRef = useRef(null);
   const canvasWidthRef = useRef(CANVAS_WIDTH);
   const canvasHeightRef = useRef(CANVAS_HEIGHT);
   const minimapCanvasRef = useRef(null);
   const shipRef = useRef(new Ship(WORLD_WIDTH / 2, WORLD_HEIGHT / 2));
   const cameraRef = useRef(new Camera());
   const bulletsRef = useRef([]);
   const keysRef = useRef({});
   const mousePositionRef = useRef({ x: 0, y: 0 });
   const mouseScreenRef = useRef({ x: CANVAS_WIDTH / 2, y: CANVAS_HEIGHT / 2 });
   const isMouseDownRef = useRef(false);
   const isPausedRef = useRef(false);
   const testingModeRef = useRef(false);
   const gameStartedRef = useRef(false);
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..e89f0049b7ef1c5eb75a2c431b8f1947bc6e3313 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -271,51 +271,51 @@ function App() {
   const xpNeededForCurrentLevel = xpNeededForNextLevel(uiState.level);
 
   return (
     <div className="outerSpace" style={outerSpaceStyle}>
       <div
         ref={playAreaRef}
         className="playfieldFrame"
         style={{
           width: canvasWidthRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           height: canvasHeightRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           left: `${metaLayout.playX}px`,
           top: `${metaLayout.playY}px`,
           position: 'absolute'
         }}
       >
         <canvas
           ref={canvasRef}
           width={canvasWidthRef.current}
           height={canvasHeightRef.current}
           className="game-canvas"
           role="img"
           aria-label="Asteroids play area"
         />
       </div>
 
-      <HUD
+      <Hud
         xp={uiState.xp}
         xpMax={xpNeededForCurrentLevel}
         level={uiState.level}
         lives={uiState.lives}
         wave={uiState.mode === 'waves' ? stageRef.current : 1}
         time={formattedTime}
         currency={uiState.currency}
         minimapRef={minimapCanvasRef}
         mode={uiState.mode}
       />
 
       {countdownActive && (
         <div className="hyperCountdownBanner" style={{ color: countdownColor }}>
           <span className="label">Hyper jump in</span>
           <span className="timer mono">{formatCountdown(uiState.hyperCountdownMs)}</span>
         </div>
       )}
 
       {!uiState.gameStarted && (
         <StartScreen
           onStartWaves={() => session.handleSelectMode('waves')}
           onStartSurvival={() => session.handleSelectMode('survival')}
         />
       )}
 

---------

diff --git a/src/App.test.jsx b/src/App.test.jsx
index 49fa4b9f1be2ae10caa1ab5506f3e8f4c666191b..88defb75bc437e137c698d6f0b40042c6c24ec30 100644
--- a/src/App.test.jsx
+++ b/src/App.test.jsx
@@ -1,32 +1,32 @@
 import { render, fireEvent, screen, act } from '@testing-library/react';
 import { describe, it, expect, vi } from 'vitest';
 import App from './App.jsx';
 import { BULLET_FIRE_RATE, MAX_BULLETS } from './utils/constants.js';
 
 describe('bullet firing limits', () => {
   it('caps bullets at MAX_BULLETS when holding fire', () => {
     vi.useFakeTimers();
     vi.setSystemTime(0);
 
     render(<App />);
 
-    // Click StartOverlay "Waves" button to start
+    // Click StartScreen "Waves" button to start
     const wavesButton = screen.getByRole('button', { name: /^waves/i });
     fireEvent.click(wavesButton);
 
     // Hold Space to fire
     fireEvent.keyDown(window, { code: 'Space' });
 
     for (let i = 0; i < MAX_BULLETS + 2; i++) {
       act(() => {
         vi.advanceTimersByTime(BULLET_FIRE_RATE);
       });
     }
 
     const count = Number(screen.getByTestId('bullet-count').textContent);
     expect(count).toBeLessThanOrEqual(MAX_BULLETS);
 
     fireEvent.keyUp(window, { code: 'Space' });
     vi.useRealTimers();
   });
 });

----------

diff --git a/src/components/ui/HUD.jsx b/src/components/ui/HUD.jsx
index 96c40945281b3eee03f203b5f44be2ae93746614..27e55733ed970baaee00da98644b256236794745 100644
--- a/src/components/ui/HUD.jsx
+++ b/src/components/ui/HUD.jsx
@@ -1,28 +1,28 @@
 import React from 'react';
 
-export default function HUD({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
+export default function Hud({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
   const pct = Math.max(0, Math.min(1, xpMax ? xp / xpMax : 0));
   const showWave = mode === 'waves';
   const showTime = mode === 'survival';
 
   return (
     <div className="hudRoot">
       <div className="xpBar">
         <div className="xpFill" style={{ width: `${pct * 100}%` }} />
         <div className="xpText">{`${xp} / ${xpMax} XP`}</div>
       </div>
 
       <div className="hudPanels">
         <div className="hudPanel">
           <div className="hudColumn">
             <div className="hudLabel">Level</div>
             <div className="hudValue">{level}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Lives</div>
             <div className="hudValue">{lives}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Currency</div>
             <div className="hudValue">{currency}</div>
           </div>
---------

diff --git a//dev/null b/src/components/ui/PauseOverlay.jsx
index 0000000000000000000000000000000000000000..2796ade95ec38cc7c008a13fbbdd95dd7f4f6f9a 100644
--- a//dev/null
+++ b/src/components/ui/PauseOverlay.jsx
@@ -0,0 +1,70 @@
+import React from 'react';
+
+const ASTEROID_TYPES = [
+  { key: 'large', label: 'Large' },
+  { key: 'medium', label: 'Medium' },
+  { key: 'small', label: 'Small' },
+];
+
+export default function PauseOverlay({
+  xp,
+  lives,
+  largeCount,
+  mediumCount,
+  smallCount,
+  onResume,
+  onExit,
+}) {
+  const counts = { large: largeCount ?? 0, medium: mediumCount ?? 0, small: smallCount ?? 0 };
+  const totalAsteroids = ASTEROID_TYPES.reduce((sum, type) => sum + counts[type.key], 0);
+
+  return (
+    <div className="overlayRoot" role="dialog" aria-modal="true" onClick={onResume}>
+      <div
+        className="panel modal pausePanel"
+        onClick={(event) => event.stopPropagation()}
+      >
+        <h2 className="title">Paused</h2>
+        <p className="subtitle">Click anywhere or press ESC to resume.</p>
+
+        <div className="pauseSummary" aria-label="Player summary">
+          <div className="pauseSummary__item">
+            <span className="dim">XP</span>
+            <strong>{xp}</strong>
+          </div>
+          <div className="pauseSummary__item">
+            <span className="dim">Lives</span>
+            <strong>{lives}</strong>
+          </div>
+          <div className="pauseSummary__item">
+            <span className="dim">Asteroids</span>
+            <strong>{totalAsteroids}</strong>
+          </div>
+        </div>
+
+        <section className="pauseAsteroids" aria-label="Asteroid breakdown">
+          <header className="pauseAsteroids__header">
+            <h3>Asteroids Remaining</h3>
+          </header>
+          <div className="pauseAsteroids__grid">
+            {ASTEROID_TYPES.map(({ key, label }) => (
+              <div key={key} className="pauseAsteroids__item">
+                <span className="pauseAsteroids__label">{label}</span>
+                <span className="pauseAsteroids__count">{counts[key]}</span>
+              </div>
+            ))}
+          </div>
+        </section>
+
+        <div className="row pauseActions">
+          <button type="button" className="btn" onClick={onResume}>
+            Resume
+          </button>
+          <button type="button" className="btn destructive" onClick={onExit}>
+            Exit to Menu
+          </button>
+        </div>
+      </div>
+    </div>
+  );
+}
---------

diff --git a/src/hooks/useGameWorld.js b/src/hooks/useGameWorld.js
index d0872f02c750740f5101f355292b91e415f2469a..8b106511d7e5cc247f832e2da5c81f2d098cf2ed 100644
--- a/src/hooks/useGameWorld.js
+++ b/src/hooks/useGameWorld.js
@@ -1,34 +1,34 @@
 import { useRef, useCallback } from 'react';
 import { Asteroid } from '../components/Asteroid.js';
 import { Pickup } from '../components/Pickup.js';
 import { WORLD_WIDTH, WORLD_HEIGHT, STAR_COUNT, STAR_MIN_BRIGHTNESS, STAR_MAX_BRIGHTNESS,
          STAR_LARGE_THRESHOLD, STAR_MEDIUM_THRESHOLD, STAR_FIELD_MULTIPLIER, STAR_FIELD_SPREAD,
          MIN_PARALLAX, MAX_PARALLAX, INITIAL_ASTEROID_COUNT, XP_LEVEL_BASE, XP_LEVEL_GROWTH,
          ASTEROID_SIZE_LARGE, ASTEROID_SIZE_MEDIUM, ASTEROID_SIZE_SMALL,
          XP_PICKUP_VALUE, XP_DROP_WEIGHTS, CURRENCY_DROP_CHANCE, CURRENCY_DROP_WEIGHTS,
-         HYPER_JUMP_COUNTDOWN_MS, SURVIVAL_SPEED_LIMIT_MULTIPLIER, SURVIVAL_SPEED_CURVE_TAU,
+         HYPER_JUMP_COUNTDOWN_MS,
          WAVE_SPEED_LIMIT_MULTIPLIER, WAVE_SPEED_CURVE_TAU } from '../utils/constants.js';
 
 export function useGameWorld({
   shipRef,
   bulletsRef,
   setBulletCount,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   modeRef,
   setUiState,
 }) {
   const starsRef = useRef([]);
   const asteroidsRef = useRef([]);
   const asteroidCountsRef = useRef({ large: 0, medium: 0, small: 0 });
   const xpRef = useRef(0);
   const levelRef = useRef(1);
   const stageRef = useRef(1);
   const baseAsteroidCountRef = useRef(INITIAL_ASTEROID_COUNT);
   const stageClearedRef = useRef(false);
   const currencyRef = useRef(0);
   const pickupsRef = useRef([]);
   const hyperCountdownRef = useRef(0);
   const hyperCountdownIntervalRef = useRef(null);
   const hyperCountdownTimeoutRef = useRef(null);
---------

diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..598bda3025b3c3e1e0acb7e8c7fecd670f2340df 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -2,54 +2,51 @@
 
 import { Minimap } from '../components/Minimap.js';
 
 export function renderScene({
   canvasRef,
   canvasWidthRef,
   canvasHeightRef,
   minimapCanvasRef,
   cameraRef,
   starsRef,
   shipRef,
   asteroidsRef,
   bulletsRef,
   pickupsRef,
   mousePositionRef,
   gameStartedRef,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   deathExplosionRef,
   CROSSHAIR_SIZE,
 }) {
   const canvas = canvasRef.current;
   if (!canvas) return;
 
-  let ctx;
-  try {
-    ctx = canvas.getContext('2d');
-  } catch {}
+  const ctx = canvas.getContext('2d');
   if (!ctx) return;
   const canvasWidth = canvasWidthRef.current || 1200;
   const canvasHeight = canvasHeightRef.current || 900;
   ctx.clearRect(0, 0, canvasWidth, canvasHeight);
 
   const nowMs = performance.now();
 
   const camera = cameraRef.current;
 
   // Draw parallax stars (background) - with hyperspace effect support
   if (hyperSpaceJumpEffectRef.current.active &&
       (hyperSpaceJumpEffectRef.current.phase === 'brighten' ||
        hyperSpaceJumpEffectRef.current.phase === 'streaking')) {
     hyperSpaceJumpEffectRef.current.drawStars(ctx, starsRef.current, camera, canvasWidth, canvasHeight);
   } else {
     starsRef.current.forEach((star) => {
       // Calculate parallax position
       const parallaxX = star.x - camera.x * star.parallax;
       const parallaxY = star.y - camera.y * star.parallax;
 
       const screenPos = camera.worldToScreen(parallaxX, parallaxY, canvasWidth, canvasHeight);
 
       // Only draw if visible (with margin for star wrapping)
       if (screenPos.x >= -50 && screenPos.x <= canvasWidth + 50 &&
           screenPos.y >= -50 && screenPos.y <= canvasHeight + 50) {
diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..598bda3025b3c3e1e0acb7e8c7fecd670f2340df 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -127,34 +124,31 @@ export function renderScene({
   // Draw crosshair at mouse position
   if (gameStartedRef.current) {
     const mousePos = mousePositionRef.current;
     const screenPos = camera.worldToScreen(mousePos.x, mousePos.y, canvasWidth, canvasHeight);
     ctx.strokeStyle = 'white';
     ctx.lineWidth = 2;
     ctx.beginPath();
     // Horizontal line
     ctx.moveTo(screenPos.x - CROSSHAIR_SIZE, screenPos.y);
     ctx.lineTo(screenPos.x + CROSSHAIR_SIZE, screenPos.y);
     // Vertical line
     ctx.moveTo(screenPos.x, screenPos.y - CROSSHAIR_SIZE);
     ctx.lineTo(screenPos.x, screenPos.y + CROSSHAIR_SIZE);
     ctx.stroke();
   }
 
   // Draw effects (overlay)
   levelUpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   stageClearEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   hyperSpaceJumpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   deathExplosionRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
 
   // Render minimap
   const minimapCanvas = minimapCanvasRef?.current;
   if (minimapCanvas) {
-    let minimapCtx;
-    try {
-      minimapCtx = minimapCanvas.getContext('2d');
-    } catch {}
+    const minimapCtx = minimapCanvas.getContext('2d');
     if (minimapCtx) {
       Minimap.draw(minimapCtx, shipRef.current, asteroidsRef.current, pickupsRef?.current ?? [], camera);
     }
   }
 }
-------------

diff --git a/src/styles/ui.css b/src/styles/ui.css
index 0c755288e95bfe971524c4bb2881e27b4abad6b8..285db172276e6eabd42c2446a11474e5be31b68d 100644
--- a/src/styles/ui.css
+++ b/src/styles/ui.css
@@ -73,50 +73,54 @@
   font-size: 26px;
   letter-spacing: 2px;
 }
 
 /* Overlays (menu/game over) */
 .overlayRoot {
   position: fixed;
   inset: 0;
   display: grid;
   place-items: center;
   background: rgba(0,0,0,0.3);
 }
 .panel.modal {
   border: 2px solid var(--line);
   border-radius: 12px;
   padding: 20px 24px;
   width: min(520px, 90vw);
   background: var(--panel-bg);
   backdrop-filter: var(--panel-blur);
   box-shadow: 0 10px 40px rgba(0,0,0,0.6);
   text-align: center;
 }
 .title { margin: 4px 0 8px; letter-spacing: 2px; }
 .subtitle { margin: 0 0 14px; color: var(--fg-dim); }
 .row { display: flex; gap: 12px; justify-content: center; }
+.btn.destructive {
+  border-color: #f5776e;
+  color: #f5776e;
+}
 .statsRow {
   display: grid;
   grid-template-columns: repeat(2,1fr);
   gap: 8px 16px;
   margin: 8px 0 16px;
 }
 .btn {
   padding: 10px 14px;
   border: 2px solid var(--line);
   border-radius: 10px;
   background: transparent;
   color: var(--fg);
   cursor: pointer;
 }
 .btn.primary {
   border-color: var(--accent);
   box-shadow: 0 0 12px rgba(156, 240, 109, 0.25) inset;
 }
 .btn:active { transform: translateY(1px); }
 .help { margin-top: 10px; color: var(--fg-dim); }
 
 /* Test console */
 .testConsole {
   position: fixed;
   top: 0;
diff --git a/src/styles/ui.css b/src/styles/ui.css
index 0c755288e95bfe971524c4bb2881e27b4abad6b8..285db172276e6eabd42c2446a11474e5be31b68d 100644
--- a/src/styles/ui.css
+++ b/src/styles/ui.css
@@ -176,50 +180,121 @@
   text-transform: uppercase;
   letter-spacing: 1px;
   cursor: default;
 }
 
 .testConsole__tab.is-active {
   border-color: var(--accent);
   color: var(--accent);
   background: rgba(156, 240, 109, 0.12);
 }
 
 .testConsole__tab[disabled] {
   opacity: 0.4;
 }
 
 .testConsole__section {
   display: flex;
   flex-direction: column;
   gap: 12px;
   padding: 18px 16px;
   border: 1px solid rgba(255, 255, 255, 0.08);
   border-radius: 12px;
   background: rgba(255, 255, 255, 0.03);
 }
 
+.pausePanel {
+  display: grid;
+  gap: 18px;
+}
+
+.pauseSummary {
+  display: grid;
+  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
+  gap: 12px;
+}
+
+.pauseSummary__item {
+  display: grid;
+  gap: 4px;
+  padding: 10px;
+  border: 1px solid rgba(255, 255, 255, 0.12);
+  border-radius: 10px;
+  background: rgba(0, 0, 0, 0.25);
+}
+
+.pauseSummary__item strong {
+  font-size: 20px;
+}
+
+.pauseAsteroids {
+  display: grid;
+  gap: 12px;
+  padding: 16px;
+  border: 1px solid rgba(255, 255, 255, 0.08);
+  border-radius: 12px;
+  background: rgba(0, 0, 0, 0.2);
+}
+
+.pauseAsteroids__header h3 {
+  margin: 0;
+  font-size: 16px;
+  letter-spacing: 1px;
+  text-transform: uppercase;
+}
+
+.pauseAsteroids__grid {
+  display: grid;
+  grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
+  gap: 10px;
+}
+
+.pauseAsteroids__item {
+  display: grid;
+  gap: 6px;
+  padding: 10px;
+  border: 1px solid rgba(255, 255, 255, 0.1);
+  border-radius: 10px;
+  background: rgba(255, 255, 255, 0.04);
+}
+
+.pauseAsteroids__label {
+  font-size: 12px;
+  color: var(--fg-dim);
+  letter-spacing: 1px;
+  text-transform: uppercase;
+}
+
+.pauseAsteroids__count {
+  font-size: 22px;
+  font-weight: 600;
+}
+
+.pauseActions {
+  margin-top: 4px;
+}
+
 .testConsole__sectionHeader h3 {
   margin: 0;
   font-size: 18px;
   letter-spacing: 1px;
 }
 
 .testConsole__sectionHeader p {
   margin: 4px 0 0;
   font-size: 13px;
   color: rgba(255, 255, 255, 0.65);
 }
 
 .testConsole__effects {
   display: grid;
   gap: 12px;
 }
 
 .testConsole__effectButton {
   display: flex;
   justify-content: space-between;
   align-items: center;
   gap: 12px;
   padding: 12px 14px;
   border: 1px solid rgba(255, 255, 255, 0.12);
   border-radius: 10px;

------------

diff --git a/vitest.setup.js b/vitest.setup.js
index 1d0af624ec04078e7c7932e760d30a04ec09cae2..5e5c34a84b6f752b718746fda8fc52c5b15684d3 100644
--- a/vitest.setup.js
+++ b/vitest.setup.js
@@ -58,32 +58,32 @@ HTMLCanvasElement.prototype.getContext = vi.fn(function(type) {
       })),
       createPattern: vi.fn(),
       setLineDash: vi.fn(),
       getLineDash: vi.fn(() => []),
       lineDashOffset: 0
     };
   }
   return null;
 });
 
 // Mock getBoundingClientRect
 HTMLCanvasElement.prototype.getBoundingClientRect = vi.fn(function() {
   return {
     x: 0,
     y: 0,
     width: 1200,
     height: 900,
     top: 0,
     right: 1200,
     bottom: 900,
     left: 0
   };
 });
 
 // Mock requestAnimationFrame and cancelAnimationFrame
-global.requestAnimationFrame = vi.fn((callback) => {
+globalThis.requestAnimationFrame = vi.fn((callback) => {
   return setTimeout(callback, 16); // ~60fps
 });
 
-global.cancelAnimationFrame = vi.fn((id) => {
+globalThis.cancelAnimationFrame = vi.fn((id) => {
   clearTimeout(id);
-});
+});

=========  RUN 2 =========
Summary

Centralized canvas, ship, and effect references in the new useGameRefs hook and updated App.jsx to consume the shared refs for cleaner state initialization. 

Extracted hyper-jump countdown presentation into useHyperCountdownUi and HyperJumpCountdown, and wrapped the playfield markup inside the new GameCanvas component to declutter the main app layout. 

Brought auxiliary utilities in line with lint expectations by renaming the HUD component, simplifying renderer context access, and switching the Vitest setup to globalThis. 

diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..d24647fe222ed35c853c840c26d5ae23a5095328 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -1,78 +1,77 @@
-import { useRef, useEffect, useState, useCallback } from 'react';
-import { Ship } from './components/Ship.js';
-import { CANVAS_WIDTH, CANVAS_HEIGHT, CROSSHAIR_SIZE, INITIAL_LIVES, WORLD_WIDTH, WORLD_HEIGHT, HYPER_JUMP_COUNTDOWN_MS, PLAYFIELD_FRAME_BORDER_OFFSET, COUNTDOWN_COLOR_RANGE_DEGREES, COUNTDOWN_SATURATION_PERCENT, COUNTDOWN_LIGHTNESS_BASE_PERCENT, COUNTDOWN_LIGHTNESS_DELTA, COUNTDOWN_BRIGHTNESS_BOOST } from './utils/constants.js';
-import { LevelUpEffect } from './effects/LevelUpEffect.js';
-import { StageClearEffect } from './effects/StageClearEffect.js';
-import { HyperSpaceJumpEffect } from './effects/HyperSpaceJumpEffect.js';
-import { DeathExplosion } from './effects/DeathExplosion.js';
-import { Camera } from './utils/camera.js';
+import { useEffect, useState, useCallback } from 'react';
+import { CROSSHAIR_SIZE, INITIAL_LIVES } from './utils/constants.js';
 import { useGameWorld } from './hooks/useGameWorld.js';
 import { useGameSession } from './hooks/useGameSession.js';
 import { useGameControls } from './hooks/useGameControls.js';
 import { useGameLogic } from './hooks/useGameLogic.js';
 import { useResponsiveLayout } from './hooks/useResponsiveLayout.js';
 import { useGameLoop } from './hooks/useGameLoop.js';
 import { useGameTimer } from './hooks/useGameTimer.js';
 import { renderScene } from './render/gameRenderer.js';
-import { formatCountdown } from './utils/time.js';
 import PauseOverlay from './components/PauseOverlay.jsx';
-import HUD from './components/ui/HUD';
+import GameCanvas from './components/GameCanvas.jsx';
+import Hud from './components/ui/HUD';
 import StartScreen from './components/ui/StartScreen';
 import GameOverOverlay from './components/ui/GameOverOverlay';
 import TestConsole from './components/ui/TestConsole.jsx';
 import DebugStatsDisplay from './components/ui/DebugStatsDisplay.jsx';
+import HyperJumpCountdown from './components/ui/HyperJumpCountdown.jsx';
 import { useTestConsole } from './hooks/useTestConsole.js';
+import { useGameRefs } from './hooks/useGameRefs.js';
+import { useHyperCountdownUi } from './hooks/useHyperCountdownUi.js';
 import './App.css';
 import './styles/theme.css';
 import './styles/ui.css';
 
 function App() {
-  const canvasRef = useRef(null);
-  const playAreaRef = useRef(null);
-  const canvasWidthRef = useRef(CANVAS_WIDTH);
-  const canvasHeightRef = useRef(CANVAS_HEIGHT);
-  const minimapCanvasRef = useRef(null);
-  const shipRef = useRef(new Ship(WORLD_WIDTH / 2, WORLD_HEIGHT / 2));
-  const cameraRef = useRef(new Camera());
-  const bulletsRef = useRef([]);
-  const keysRef = useRef({});
-  const mousePositionRef = useRef({ x: 0, y: 0 });
-  const mouseScreenRef = useRef({ x: CANVAS_WIDTH / 2, y: CANVAS_HEIGHT / 2 });
-  const isMouseDownRef = useRef(false);
-  const isPausedRef = useRef(false);
-  const testingModeRef = useRef(false);
-  const gameStartedRef = useRef(false);
-  const gameOverRef = useRef(false);
-  const livesRef = useRef(INITIAL_LIVES);
-  const lastShotTimeRef = useRef(0);
-  const levelUpEffectRef = useRef(new LevelUpEffect());
-  const stageClearEffectRef = useRef(new StageClearEffect());
-  const hyperSpaceJumpEffectRef = useRef(new HyperSpaceJumpEffect());
-  const deathExplosionRef = useRef(new DeathExplosion());
-  const modeRef = useRef(null);
-  const survivalStateRef = useRef({ lastSpawnMs: 0, speedMultiplier: 1, spawnIntervalMs: 2000 });
+  const {
+    canvasRef,
+    playAreaRef,
+    canvasWidthRef,
+    canvasHeightRef,
+    minimapCanvasRef,
+    shipRef,
+    cameraRef,
+    bulletsRef,
+    keysRef,
+    mousePositionRef,
+    mouseScreenRef,
+    isMouseDownRef,
+    isPausedRef,
+    testingModeRef,
+    gameStartedRef,
+    gameOverRef,
+    livesRef,
+    lastShotTimeRef,
+    levelUpEffectRef,
+    stageClearEffectRef,
+    hyperSpaceJumpEffectRef,
+    deathExplosionRef,
+    modeRef,
+    survivalStateRef,
+  } = useGameRefs();
   const [uiState, setUiState] = useState({
     currency: 0,
     lives: INITIAL_LIVES,
     xp: 0,
     level: 1,
     gameOver: false,
     gameStarted: false,
     isPaused: false,
     testingMode: false,
     mode: null,
     hyperCountdownMs: 0,
   });
   const [bulletCount, setBulletCount] = useState(0);
   const [lastRun, setLastRun] = useState({ level: 1, wave: 1, time: '00:00:00', currency: 0 });
   const {
     initializeAsteroids,
     generateStarfield,
     currencyRef,
     xpRef,
     levelRef,
     stageRef,
     baseAsteroidCountRef,
     clearPickups,
     clearHyperCountdown,
     startNewStage,
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..d24647fe222ed35c853c840c26d5ae23a5095328 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -173,51 +172,51 @@ function App() {
     setBulletCount,
     isMouseDownRef,
     lastShotTimeRef,
     livesRef,
     spawnPickups,
     updatePickups,
     levelUpEffectRef,
     stageClearEffectRef,
     hyperSpaceJumpEffectRef,
     deathExplosionRef,
     starsRef,
     updateAsteroidCounts,
     modeRef,
     survivalStateRef,
   });
 
   const { metaLayout } = useResponsiveLayout({ canvasRef, playAreaRef, canvasWidthRef, canvasHeightRef });
 
   useEffect(() => {
     initializeAsteroids();
     generateStarfield();
   }, [initializeAsteroids, generateStarfield]);
 
   useEffect(() => {
     modeRef.current = uiState.mode;
-  }, [uiState.mode]);
+  }, [uiState.mode, modeRef]);
 
   useEffect(() => {
     const active = uiState.mode === 'survival' && uiState.gameStarted && !uiState.isPaused && !uiState.gameOver;
     active ? start() : pause();
   }, [uiState.mode, uiState.gameStarted, uiState.isPaused, uiState.gameOver, start, pause]);
 
   useEffect(() => {
     if (!uiState.gameStarted || uiState.mode !== 'survival') reset();
   }, [uiState.gameStarted, uiState.mode, reset]);
   const render = useCallback(() => {
     renderScene({
       canvasRef,
       canvasWidthRef,
       canvasHeightRef,
       minimapCanvasRef,
       cameraRef,
       starsRef,
       shipRef,
       asteroidsRef,
       pickupsRef,
       bulletsRef,
       mousePositionRef,
       gameStartedRef,
       levelUpEffectRef,
       stageClearEffectRef,
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..d24647fe222ed35c853c840c26d5ae23a5095328 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -234,105 +233,83 @@ function App() {
     starsRef,
     shipRef,
     asteroidsRef,
     pickupsRef,
     bulletsRef,
     mousePositionRef,
     gameStartedRef,
     levelUpEffectRef,
     stageClearEffectRef,
     hyperSpaceJumpEffectRef,
     deathExplosionRef,
   ]);
   useGameLoop({
     update,
     render,
     setUiState,
     currencyRef,
     livesRef,
     gameOverRef,
     xpRef,
     levelRef,
     hyperCountdownRef,
     onFrame: handleFrameSample,
   });
 
-  const countdownActive = uiState.mode === 'waves' && uiState.hyperCountdownMs > 0;
-  const countdownRatio = countdownActive ? Math.max(0, Math.min(1, uiState.hyperCountdownMs / HYPER_JUMP_COUNTDOWN_MS)) : 0;
-  let countdownColor;
-  let outerSpaceStyle;
-
-  if (countdownActive) {
-    const countdownHue = Math.round(COUNTDOWN_COLOR_RANGE_DEGREES * countdownRatio);
-    const countdownLightness = COUNTDOWN_LIGHTNESS_BASE_PERCENT + (1 - countdownRatio) * COUNTDOWN_LIGHTNESS_DELTA;
-    countdownColor = `hsl(${countdownHue}, ${COUNTDOWN_SATURATION_PERCENT}%, ${countdownLightness}%)`;
-    const brightness = 1 + (1 - countdownRatio) * COUNTDOWN_BRIGHTNESS_BOOST;
-    outerSpaceStyle = { filter: `brightness(${brightness})` };
-  }
+  const countdownUi = useHyperCountdownUi({
+    mode: uiState.mode,
+    hyperCountdownMs: uiState.hyperCountdownMs,
+  });
   const xpNeededForCurrentLevel = xpNeededForNextLevel(uiState.level);
 
   return (
-    <div className="outerSpace" style={outerSpaceStyle}>
-      <div
-        ref={playAreaRef}
-        className="playfieldFrame"
-        style={{
-          width: canvasWidthRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
-          height: canvasHeightRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
-          left: `${metaLayout.playX}px`,
-          top: `${metaLayout.playY}px`,
-          position: 'absolute'
-        }}
-      >
-        <canvas
-          ref={canvasRef}
-          width={canvasWidthRef.current}
-          height={canvasHeightRef.current}
-          className="game-canvas"
-          role="img"
-          aria-label="Asteroids play area"
-        />
-      </div>
+    <div className="outerSpace" style={countdownUi.style}>
+      <GameCanvas
+        playAreaRef={playAreaRef}
+        canvasRef={canvasRef}
+        canvasWidth={canvasWidthRef.current}
+        canvasHeight={canvasHeightRef.current}
+        playPosition={metaLayout}
+      />
 
-      <HUD
+      <Hud
         xp={uiState.xp}
         xpMax={xpNeededForCurrentLevel}
         level={uiState.level}
         lives={uiState.lives}
         wave={uiState.mode === 'waves' ? stageRef.current : 1}
         time={formattedTime}
         currency={uiState.currency}
         minimapRef={minimapCanvasRef}
         mode={uiState.mode}
       />
 
-      {countdownActive && (
-        <div className="hyperCountdownBanner" style={{ color: countdownColor }}>
-          <span className="label">Hyper jump in</span>
-          <span className="timer mono">{formatCountdown(uiState.hyperCountdownMs)}</span>
-        </div>
-      )}
+      <HyperJumpCountdown
+        active={countdownUi.active}
+        color={countdownUi.color}
+        formatted={countdownUi.formatted}
+      />
 
       {!uiState.gameStarted && (
         <StartScreen
           onStartWaves={() => session.handleSelectMode('waves')}
           onStartSurvival={() => session.handleSelectMode('survival')}
         />
       )}
 
       {uiState.gameOver && (
         <GameOverOverlay
           level={lastRun.level}
           wave={lastRun.wave}
           time={lastRun.time}
           currency={lastRun.currency}
           onMainMenu={session.handleExitToMenu}
           onPlayAgain={() => session.startGame()}
         />
       )}
 
       {uiState.gameStarted && !uiState.gameOver && uiState.isPaused && (
         <PauseOverlay
           xp={uiState.xp}
           lives={uiState.lives}
           largeCount={asteroidCountsRef.current.large}
           mediumCount={asteroidCountsRef.current.medium}
----------

diff --git a//dev/null b/src/components/GameCanvas.jsx
index 0000000000000000000000000000000000000000..20ed494da100d35f15f052836f44fdbc8808c1ef 100644
--- a//dev/null
+++ b/src/components/GameCanvas.jsx
@@ -0,0 +1,33 @@
+import React from 'react';
+import { PLAYFIELD_FRAME_BORDER_OFFSET } from '../utils/constants.js';
+
+export default function GameCanvas({
+  playAreaRef,
+  canvasRef,
+  canvasWidth,
+  canvasHeight,
+  playPosition,
+}) {
+  return (
+    <div
+      ref={playAreaRef}
+      className="playfieldFrame"
+      style={{
+        width: canvasWidth + PLAYFIELD_FRAME_BORDER_OFFSET,
+        height: canvasHeight + PLAYFIELD_FRAME_BORDER_OFFSET,
+        left: `${playPosition.playX}px`,
+        top: `${playPosition.playY}px`,
+        position: 'absolute',
+      }}
+    >
+      <canvas
+        ref={canvasRef}
+        width={canvasWidth}
+        height={canvasHeight}
+        className="game-canvas"
+        role="img"
+        aria-label="Asteroids play area"
+      />
+    </div>
+  );
+}
----------

diff --git a/src/components/ui/HUD.jsx b/src/components/ui/HUD.jsx
index 96c40945281b3eee03f203b5f44be2ae93746614..27e55733ed970baaee00da98644b256236794745 100644
--- a/src/components/ui/HUD.jsx
+++ b/src/components/ui/HUD.jsx
@@ -1,28 +1,28 @@
 import React from 'react';
 
-export default function HUD({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
+export default function Hud({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
   const pct = Math.max(0, Math.min(1, xpMax ? xp / xpMax : 0));
   const showWave = mode === 'waves';
   const showTime = mode === 'survival';
 
   return (
     <div className="hudRoot">
       <div className="xpBar">
         <div className="xpFill" style={{ width: `${pct * 100}%` }} />
         <div className="xpText">{`${xp} / ${xpMax} XP`}</div>
       </div>
 
       <div className="hudPanels">
         <div className="hudPanel">
           <div className="hudColumn">
             <div className="hudLabel">Level</div>
             <div className="hudValue">{level}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Lives</div>
             <div className="hudValue">{lives}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Currency</div>
             <div className="hudValue">{currency}</div>
           </div>
--------

diff --git a//dev/null b/src/components/ui/HyperJumpCountdown.jsx
index 0000000000000000000000000000000000000000..49e6b5d6e3a4a0c61a49a580fa523a9cf0af43a6 100644
--- a//dev/null
+++ b/src/components/ui/HyperJumpCountdown.jsx
@@ -0,0 +1,14 @@
+import React from 'react';
+
+export default function HyperJumpCountdown({ active, color, formatted }) {
+  if (!active) {
+    return null;
+  }
+
+  return (
+    <div className="hyperCountdownBanner" style={{ color }}>
+      <span className="label">Hyper jump in</span>
+      <span className="timer mono">{formatted}</span>
+    </div>
+  );
+}
---------

diff --git a//dev/null b/src/hooks/useGameRefs.js
index 0000000000000000000000000000000000000000..8aea0c60afface5a31fd6f2d1bb40b08446580d6 100644
--- a//dev/null
+++ b/src/hooks/useGameRefs.js
@@ -0,0 +1,75 @@
+import { useRef } from 'react';
+import { Ship } from '../components/Ship.js';
+import { Camera } from '../utils/camera.js';
+import { LevelUpEffect } from '../effects/LevelUpEffect.js';
+import { StageClearEffect } from '../effects/StageClearEffect.js';
+import { HyperSpaceJumpEffect } from '../effects/HyperSpaceJumpEffect.js';
+import { DeathExplosion } from '../effects/DeathExplosion.js';
+import {
+  CANVAS_HEIGHT,
+  CANVAS_WIDTH,
+  INITIAL_LIVES,
+  WORLD_HEIGHT,
+  WORLD_WIDTH,
+} from '../utils/constants.js';
+
+export function useGameRefs() {
+  const canvasRef = useRef(null);
+  const playAreaRef = useRef(null);
+  const canvasWidthRef = useRef(CANVAS_WIDTH);
+  const canvasHeightRef = useRef(CANVAS_HEIGHT);
+  const minimapCanvasRef = useRef(null);
+
+  const shipRef = useRef(new Ship(WORLD_WIDTH / 2, WORLD_HEIGHT / 2));
+  const cameraRef = useRef(new Camera());
+  const bulletsRef = useRef([]);
+  const keysRef = useRef({});
+  const mousePositionRef = useRef({ x: 0, y: 0 });
+  const mouseScreenRef = useRef({ x: CANVAS_WIDTH / 2, y: CANVAS_HEIGHT / 2 });
+  const isMouseDownRef = useRef(false);
+  const isPausedRef = useRef(false);
+  const testingModeRef = useRef(false);
+  const gameStartedRef = useRef(false);
+  const gameOverRef = useRef(false);
+  const livesRef = useRef(INITIAL_LIVES);
+  const lastShotTimeRef = useRef(0);
+
+  const levelUpEffectRef = useRef(new LevelUpEffect());
+  const stageClearEffectRef = useRef(new StageClearEffect());
+  const hyperSpaceJumpEffectRef = useRef(new HyperSpaceJumpEffect());
+  const deathExplosionRef = useRef(new DeathExplosion());
+
+  const modeRef = useRef(null);
+  const survivalStateRef = useRef({
+    lastSpawnMs: 0,
+    speedMultiplier: 1,
+    spawnIntervalMs: 2000,
+  });
+
+  return {
+    canvasRef,
+    playAreaRef,
+    canvasWidthRef,
+    canvasHeightRef,
+    minimapCanvasRef,
+    shipRef,
+    cameraRef,
+    bulletsRef,
+    keysRef,
+    mousePositionRef,
+    mouseScreenRef,
+    isMouseDownRef,
+    isPausedRef,
+    testingModeRef,
+    gameStartedRef,
+    gameOverRef,
+    livesRef,
+    lastShotTimeRef,
+    levelUpEffectRef,
+    stageClearEffectRef,
+    hyperSpaceJumpEffectRef,
+    deathExplosionRef,
+    modeRef,
+    survivalStateRef,
+  };
+}
------------

diff --git a/src/hooks/useGameWorld.js b/src/hooks/useGameWorld.js
index d0872f02c750740f5101f355292b91e415f2469a..8b106511d7e5cc247f832e2da5c81f2d098cf2ed 100644
--- a/src/hooks/useGameWorld.js
+++ b/src/hooks/useGameWorld.js
@@ -1,34 +1,34 @@
 import { useRef, useCallback } from 'react';
 import { Asteroid } from '../components/Asteroid.js';
 import { Pickup } from '../components/Pickup.js';
 import { WORLD_WIDTH, WORLD_HEIGHT, STAR_COUNT, STAR_MIN_BRIGHTNESS, STAR_MAX_BRIGHTNESS,
          STAR_LARGE_THRESHOLD, STAR_MEDIUM_THRESHOLD, STAR_FIELD_MULTIPLIER, STAR_FIELD_SPREAD,
          MIN_PARALLAX, MAX_PARALLAX, INITIAL_ASTEROID_COUNT, XP_LEVEL_BASE, XP_LEVEL_GROWTH,
          ASTEROID_SIZE_LARGE, ASTEROID_SIZE_MEDIUM, ASTEROID_SIZE_SMALL,
          XP_PICKUP_VALUE, XP_DROP_WEIGHTS, CURRENCY_DROP_CHANCE, CURRENCY_DROP_WEIGHTS,
-         HYPER_JUMP_COUNTDOWN_MS, SURVIVAL_SPEED_LIMIT_MULTIPLIER, SURVIVAL_SPEED_CURVE_TAU,
+         HYPER_JUMP_COUNTDOWN_MS,
          WAVE_SPEED_LIMIT_MULTIPLIER, WAVE_SPEED_CURVE_TAU } from '../utils/constants.js';
 
 export function useGameWorld({
   shipRef,
   bulletsRef,
   setBulletCount,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   modeRef,
   setUiState,
 }) {
   const starsRef = useRef([]);
   const asteroidsRef = useRef([]);
   const asteroidCountsRef = useRef({ large: 0, medium: 0, small: 0 });
   const xpRef = useRef(0);
   const levelRef = useRef(1);
   const stageRef = useRef(1);
   const baseAsteroidCountRef = useRef(INITIAL_ASTEROID_COUNT);
   const stageClearedRef = useRef(false);
   const currencyRef = useRef(0);
   const pickupsRef = useRef([]);
   const hyperCountdownRef = useRef(0);
   const hyperCountdownIntervalRef = useRef(null);
   const hyperCountdownTimeoutRef = useRef(null);
---------

diff --git a//dev/null b/src/hooks/useHyperCountdownUi.js
index 0000000000000000000000000000000000000000..193e889d6c24db1e734d7356001cb5215fe30617 100644
--- a//dev/null
+++ b/src/hooks/useHyperCountdownUi.js
@@ -0,0 +1,38 @@
+import { useMemo } from 'react';
+import {
+  COUNTDOWN_BRIGHTNESS_BOOST,
+  COUNTDOWN_COLOR_RANGE_DEGREES,
+  COUNTDOWN_LIGHTNESS_BASE_PERCENT,
+  COUNTDOWN_LIGHTNESS_DELTA,
+  COUNTDOWN_SATURATION_PERCENT,
+  HYPER_JUMP_COUNTDOWN_MS,
+} from '../utils/constants.js';
+import { formatCountdown } from '../utils/time.js';
+
+export function useHyperCountdownUi({ mode, hyperCountdownMs }) {
+  return useMemo(() => {
+    const active = mode === 'waves' && hyperCountdownMs > 0;
+
+    if (!active) {
+      return {
+        active: false,
+        color: undefined,
+        style: undefined,
+        formatted: formatCountdown(0),
+      };
+    }
+
+    const ratio = Math.max(0, Math.min(1, hyperCountdownMs / HYPER_JUMP_COUNTDOWN_MS));
+    const hue = Math.round(COUNTDOWN_COLOR_RANGE_DEGREES * ratio);
+    const lightness = COUNTDOWN_LIGHTNESS_BASE_PERCENT + (1 - ratio) * COUNTDOWN_LIGHTNESS_DELTA;
+    const color = `hsl(${hue}, ${COUNTDOWN_SATURATION_PERCENT}%, ${lightness}%)`;
+    const brightness = 1 + (1 - ratio) * COUNTDOWN_BRIGHTNESS_BOOST;
+
+    return {
+      active: true,
+      color,
+      style: { filter: `brightness(${brightness})` },
+      formatted: formatCountdown(hyperCountdownMs),
+    };
+  }, [mode, hyperCountdownMs]);
+}
-------------

diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..1773bfa2f55f23e06c7ecf8c3d1d3c1d555612e6 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -2,54 +2,51 @@
 
 import { Minimap } from '../components/Minimap.js';
 
 export function renderScene({
   canvasRef,
   canvasWidthRef,
   canvasHeightRef,
   minimapCanvasRef,
   cameraRef,
   starsRef,
   shipRef,
   asteroidsRef,
   bulletsRef,
   pickupsRef,
   mousePositionRef,
   gameStartedRef,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   deathExplosionRef,
   CROSSHAIR_SIZE,
 }) {
   const canvas = canvasRef.current;
   if (!canvas) return;
 
-  let ctx;
-  try {
-    ctx = canvas.getContext('2d');
-  } catch {}
+  const ctx = typeof canvas.getContext === 'function' ? canvas.getContext('2d') : null;
   if (!ctx) return;
   const canvasWidth = canvasWidthRef.current || 1200;
   const canvasHeight = canvasHeightRef.current || 900;
   ctx.clearRect(0, 0, canvasWidth, canvasHeight);
 
   const nowMs = performance.now();
 
   const camera = cameraRef.current;
 
   // Draw parallax stars (background) - with hyperspace effect support
   if (hyperSpaceJumpEffectRef.current.active &&
       (hyperSpaceJumpEffectRef.current.phase === 'brighten' ||
        hyperSpaceJumpEffectRef.current.phase === 'streaking')) {
     hyperSpaceJumpEffectRef.current.drawStars(ctx, starsRef.current, camera, canvasWidth, canvasHeight);
   } else {
     starsRef.current.forEach((star) => {
       // Calculate parallax position
       const parallaxX = star.x - camera.x * star.parallax;
       const parallaxY = star.y - camera.y * star.parallax;
 
       const screenPos = camera.worldToScreen(parallaxX, parallaxY, canvasWidth, canvasHeight);
 
       // Only draw if visible (with margin for star wrapping)
       if (screenPos.x >= -50 && screenPos.x <= canvasWidth + 50 &&
           screenPos.y >= -50 && screenPos.y <= canvasHeight + 50) {
diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..1773bfa2f55f23e06c7ecf8c3d1d3c1d555612e6 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -127,34 +124,33 @@ export function renderScene({
   // Draw crosshair at mouse position
   if (gameStartedRef.current) {
     const mousePos = mousePositionRef.current;
     const screenPos = camera.worldToScreen(mousePos.x, mousePos.y, canvasWidth, canvasHeight);
     ctx.strokeStyle = 'white';
     ctx.lineWidth = 2;
     ctx.beginPath();
     // Horizontal line
     ctx.moveTo(screenPos.x - CROSSHAIR_SIZE, screenPos.y);
     ctx.lineTo(screenPos.x + CROSSHAIR_SIZE, screenPos.y);
     // Vertical line
     ctx.moveTo(screenPos.x, screenPos.y - CROSSHAIR_SIZE);
     ctx.lineTo(screenPos.x, screenPos.y + CROSSHAIR_SIZE);
     ctx.stroke();
   }
 
   // Draw effects (overlay)
   levelUpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   stageClearEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   hyperSpaceJumpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   deathExplosionRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
 
   // Render minimap
   const minimapCanvas = minimapCanvasRef?.current;
   if (minimapCanvas) {
-    let minimapCtx;
-    try {
-      minimapCtx = minimapCanvas.getContext('2d');
-    } catch {}
+    const minimapCtx = typeof minimapCanvas.getContext === 'function'
+      ? minimapCanvas.getContext('2d')
+      : null;
     if (minimapCtx) {
       Minimap.draw(minimapCtx, shipRef.current, asteroidsRef.current, pickupsRef?.current ?? [], camera);
     }
   }
 }
--------

diff --git a/vitest.setup.js b/vitest.setup.js
index 1d0af624ec04078e7c7932e760d30a04ec09cae2..292aa345b42fd419484e289447779e472a456700 100644
--- a/vitest.setup.js
+++ b/vitest.setup.js
@@ -58,32 +58,32 @@ HTMLCanvasElement.prototype.getContext = vi.fn(function(type) {
       })),
       createPattern: vi.fn(),
       setLineDash: vi.fn(),
       getLineDash: vi.fn(() => []),
       lineDashOffset: 0
     };
   }
   return null;
 });
 
 // Mock getBoundingClientRect
 HTMLCanvasElement.prototype.getBoundingClientRect = vi.fn(function() {
   return {
     x: 0,
     y: 0,
     width: 1200,
     height: 900,
     top: 0,
     right: 1200,
     bottom: 900,
     left: 0
   };
 });
 
 // Mock requestAnimationFrame and cancelAnimationFrame
-global.requestAnimationFrame = vi.fn((callback) => {
+globalThis.requestAnimationFrame = vi.fn((callback) => {
   return setTimeout(callback, 16); // ~60fps
 });
 
-global.cancelAnimationFrame = vi.fn((id) => {
+globalThis.cancelAnimationFrame = vi.fn((id) => {
   clearTimeout(id);
 });

===== RUN 3 ======
Summary

Refactored App.jsx to rely on the new useHyperCountdownDisplay hook and delegate overlay management, reducing inline UI logic while keeping countdown styling centralized.

Introduced GameOverlayLayer to encapsulate start, pause, and game-over overlays and renamed the HUD component to GameHud for clearer UI responsibilities.

Hardened canvas rendering and Vitest setup by guarding getContext access and swapping to globalThis mocks to avoid silent failures during tests.

diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..9223d4a41f0d853d670b01e16b7d3216d5e28b0c 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -1,49 +1,48 @@
 import { useRef, useEffect, useState, useCallback } from 'react';
 import { Ship } from './components/Ship.js';
-import { CANVAS_WIDTH, CANVAS_HEIGHT, CROSSHAIR_SIZE, INITIAL_LIVES, WORLD_WIDTH, WORLD_HEIGHT, HYPER_JUMP_COUNTDOWN_MS, PLAYFIELD_FRAME_BORDER_OFFSET, COUNTDOWN_COLOR_RANGE_DEGREES, COUNTDOWN_SATURATION_PERCENT, COUNTDOWN_LIGHTNESS_BASE_PERCENT, COUNTDOWN_LIGHTNESS_DELTA, COUNTDOWN_BRIGHTNESS_BOOST } from './utils/constants.js';
+import { CANVAS_WIDTH, CANVAS_HEIGHT, CROSSHAIR_SIZE, INITIAL_LIVES, WORLD_WIDTH, WORLD_HEIGHT, PLAYFIELD_FRAME_BORDER_OFFSET } from './utils/constants.js';
 import { LevelUpEffect } from './effects/LevelUpEffect.js';
 import { StageClearEffect } from './effects/StageClearEffect.js';
 import { HyperSpaceJumpEffect } from './effects/HyperSpaceJumpEffect.js';
 import { DeathExplosion } from './effects/DeathExplosion.js';
 import { Camera } from './utils/camera.js';
 import { useGameWorld } from './hooks/useGameWorld.js';
 import { useGameSession } from './hooks/useGameSession.js';
 import { useGameControls } from './hooks/useGameControls.js';
 import { useGameLogic } from './hooks/useGameLogic.js';
 import { useResponsiveLayout } from './hooks/useResponsiveLayout.js';
 import { useGameLoop } from './hooks/useGameLoop.js';
 import { useGameTimer } from './hooks/useGameTimer.js';
 import { renderScene } from './render/gameRenderer.js';
 import { formatCountdown } from './utils/time.js';
-import PauseOverlay from './components/PauseOverlay.jsx';
-import HUD from './components/ui/HUD';
-import StartScreen from './components/ui/StartScreen';
-import GameOverOverlay from './components/ui/GameOverOverlay';
+import GameHud from './components/ui/GameHud.jsx';
+import GameOverlayLayer from './components/ui/GameOverlayLayer.jsx';
 import TestConsole from './components/ui/TestConsole.jsx';
 import DebugStatsDisplay from './components/ui/DebugStatsDisplay.jsx';
 import { useTestConsole } from './hooks/useTestConsole.js';
+import { useHyperCountdownDisplay } from './hooks/useHyperCountdownDisplay.js';
 import './App.css';
 import './styles/theme.css';
 import './styles/ui.css';
 
 function App() {
   const canvasRef = useRef(null);
   const playAreaRef = useRef(null);
   const canvasWidthRef = useRef(CANVAS_WIDTH);
   const canvasHeightRef = useRef(CANVAS_HEIGHT);
   const minimapCanvasRef = useRef(null);
   const shipRef = useRef(new Ship(WORLD_WIDTH / 2, WORLD_HEIGHT / 2));
   const cameraRef = useRef(new Camera());
   const bulletsRef = useRef([]);
   const keysRef = useRef({});
   const mousePositionRef = useRef({ x: 0, y: 0 });
   const mouseScreenRef = useRef({ x: CANVAS_WIDTH / 2, y: CANVAS_HEIGHT / 2 });
   const isMouseDownRef = useRef(false);
   const isPausedRef = useRef(false);
   const testingModeRef = useRef(false);
   const gameStartedRef = useRef(false);
   const gameOverRef = useRef(false);
   const livesRef = useRef(INITIAL_LIVES);
   const lastShotTimeRef = useRef(0);
   const levelUpEffectRef = useRef(new LevelUpEffect());
   const stageClearEffectRef = useRef(new StageClearEffect());
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..9223d4a41f0d853d670b01e16b7d3216d5e28b0c 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -234,135 +233,104 @@ function App() {
     starsRef,
     shipRef,
     asteroidsRef,
     pickupsRef,
     bulletsRef,
     mousePositionRef,
     gameStartedRef,
     levelUpEffectRef,
     stageClearEffectRef,
     hyperSpaceJumpEffectRef,
     deathExplosionRef,
   ]);
   useGameLoop({
     update,
     render,
     setUiState,
     currencyRef,
     livesRef,
     gameOverRef,
     xpRef,
     levelRef,
     hyperCountdownRef,
     onFrame: handleFrameSample,
   });
 
-  const countdownActive = uiState.mode === 'waves' && uiState.hyperCountdownMs > 0;
-  const countdownRatio = countdownActive ? Math.max(0, Math.min(1, uiState.hyperCountdownMs / HYPER_JUMP_COUNTDOWN_MS)) : 0;
-  let countdownColor;
-  let outerSpaceStyle;
-
-  if (countdownActive) {
-    const countdownHue = Math.round(COUNTDOWN_COLOR_RANGE_DEGREES * countdownRatio);
-    const countdownLightness = COUNTDOWN_LIGHTNESS_BASE_PERCENT + (1 - countdownRatio) * COUNTDOWN_LIGHTNESS_DELTA;
-    countdownColor = `hsl(${countdownHue}, ${COUNTDOWN_SATURATION_PERCENT}%, ${countdownLightness}%)`;
-    const brightness = 1 + (1 - countdownRatio) * COUNTDOWN_BRIGHTNESS_BOOST;
-    outerSpaceStyle = { filter: `brightness(${brightness})` };
-  }
+  const { countdownActive, countdownColor, outerSpaceStyle } = useHyperCountdownDisplay({
+    mode: uiState.mode,
+    hyperCountdownMs: uiState.hyperCountdownMs,
+  });
   const xpNeededForCurrentLevel = xpNeededForNextLevel(uiState.level);
 
   return (
     <div className="outerSpace" style={outerSpaceStyle}>
       <div
         ref={playAreaRef}
         className="playfieldFrame"
         style={{
           width: canvasWidthRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           height: canvasHeightRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           left: `${metaLayout.playX}px`,
           top: `${metaLayout.playY}px`,
           position: 'absolute'
         }}
       >
         <canvas
           ref={canvasRef}
           width={canvasWidthRef.current}
           height={canvasHeightRef.current}
           className="game-canvas"
           role="img"
           aria-label="Asteroids play area"
         />
       </div>
 
-      <HUD
+      <GameHud
         xp={uiState.xp}
         xpMax={xpNeededForCurrentLevel}
         level={uiState.level}
         lives={uiState.lives}
         wave={uiState.mode === 'waves' ? stageRef.current : 1}
         time={formattedTime}
         currency={uiState.currency}
         minimapRef={minimapCanvasRef}
         mode={uiState.mode}
       />
 
       {countdownActive && (
         <div className="hyperCountdownBanner" style={{ color: countdownColor }}>
           <span className="label">Hyper jump in</span>
           <span className="timer mono">{formatCountdown(uiState.hyperCountdownMs)}</span>
         </div>
       )}
 
-      {!uiState.gameStarted && (
-        <StartScreen
-          onStartWaves={() => session.handleSelectMode('waves')}
-          onStartSurvival={() => session.handleSelectMode('survival')}
-        />
-      )}
-
-      {uiState.gameOver && (
-        <GameOverOverlay
-          level={lastRun.level}
-          wave={lastRun.wave}
-          time={lastRun.time}
-          currency={lastRun.currency}
-          onMainMenu={session.handleExitToMenu}
-          onPlayAgain={() => session.startGame()}
-        />
-      )}
-
-      {uiState.gameStarted && !uiState.gameOver && uiState.isPaused && (
-        <PauseOverlay
-          xp={uiState.xp}
-          lives={uiState.lives}
-          largeCount={asteroidCountsRef.current.large}
-          mediumCount={asteroidCountsRef.current.medium}
-          smallCount={asteroidCountsRef.current.small}
-          onResume={session.handleResume}
-          onExit={session.handleExitToMenu}
-        />
-      )}
+      <GameOverlayLayer
+        uiState={uiState}
+        session={session}
+        asteroidCounts={asteroidCountsRef.current}
+        lastRun={lastRun}
+      />
 
       <TestConsole
         open={uiState.testingMode}
         effectActions={effectActions}
         statOptions={statOptions}
         statSelections={statSelections}
         onToggleStat={handleToggleDebugStat}
       />
 
       <DebugStatsDisplay
         visible={uiState.testingMode}
         selections={statSelections}
         frameRate={debugFrameRate}
         asteroidCounts={asteroidCountsRef.current}
         uiState={uiState}
         bulletCount={bulletCount}
         xpRequired={xpNeededForCurrentLevel}
         stageNumber={stageRef.current}
       />
 
       <div data-testid="bullet-count" style={{ display: 'none' }}>{bulletCount}</div>
     </div>
   );
 }
 
--------

diff --git a/src/components/ui/HUD.jsx b/src/components/ui/GameHud.jsx
index 96c40945281b3eee03f203b5f44be2ae93746614..50052e0516b9f47052877620842c08289f21e800 100644
--- a/src/components/ui/HUD.jsx
+++ b/src/components/ui/GameHud.jsx
@@ -1,28 +1,28 @@
 import React from 'react';
 
-export default function HUD({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
+export default function GameHud({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
   const pct = Math.max(0, Math.min(1, xpMax ? xp / xpMax : 0));
   const showWave = mode === 'waves';
   const showTime = mode === 'survival';
 
   return (
     <div className="hudRoot">
       <div className="xpBar">
         <div className="xpFill" style={{ width: `${pct * 100}%` }} />
         <div className="xpText">{`${xp} / ${xpMax} XP`}</div>
       </div>
 
       <div className="hudPanels">
         <div className="hudPanel">
           <div className="hudColumn">
             <div className="hudLabel">Level</div>
             <div className="hudValue">{level}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Lives</div>
             <div className="hudValue">{lives}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Currency</div>
             <div className="hudValue">{currency}</div>
           </div>
-------

diff --git a//dev/null b/src/components/ui/GameOverlayLayer.jsx
index 0000000000000000000000000000000000000000..3304ed1b7cea5fbac0c96ce1c2035b8db1846fec 100644
--- a//dev/null
+++ b/src/components/ui/GameOverlayLayer.jsx
@@ -0,0 +1,47 @@
+import React from 'react';
+import StartScreen from './StartScreen.jsx';
+import GameOverOverlay from './GameOverOverlay.jsx';
+import PauseOverlay from '../PauseOverlay.jsx';
+
+export default function GameOverlayLayer({ uiState, session, asteroidCounts, lastRun }) {
+  if (!uiState) {
+    return null;
+  }
+
+  const counts = asteroidCounts ?? { large: 0, medium: 0, small: 0 };
+  const isPausedOverlayVisible = uiState.gameStarted && !uiState.gameOver && uiState.isPaused;
+
+  return (
+    <>
+      {!uiState.gameStarted && (
+        <StartScreen
+          onStartWaves={() => session.handleSelectMode('waves')}
+          onStartSurvival={() => session.handleSelectMode('survival')}
+        />
+      )}
+
+      {uiState.gameOver && (
+        <GameOverOverlay
+          level={lastRun.level}
+          wave={lastRun.wave}
+          time={lastRun.time}
+          currency={lastRun.currency}
+          onMainMenu={session.handleExitToMenu}
+          onPlayAgain={() => session.startGame()}
+        />
+      )}
+
+      {isPausedOverlayVisible && (
+        <PauseOverlay
+          xp={uiState.xp}
+          lives={uiState.lives}
+          largeCount={counts.large}
+          mediumCount={counts.medium}
+          smallCount={counts.small}
+          onResume={session.handleResume}
+          onExit={session.handleExitToMenu}
+        />
+      )}
+    </>
+  );
+}
-----------

diff --git a/src/hooks/useGameWorld.js b/src/hooks/useGameWorld.js
index d0872f02c750740f5101f355292b91e415f2469a..a65e8169988e70c970a0f2b3d03561daa04895a6 100644
--- a/src/hooks/useGameWorld.js
+++ b/src/hooks/useGameWorld.js
@@ -1,35 +1,34 @@
 import { useRef, useCallback } from 'react';
 import { Asteroid } from '../components/Asteroid.js';
 import { Pickup } from '../components/Pickup.js';
 import { WORLD_WIDTH, WORLD_HEIGHT, STAR_COUNT, STAR_MIN_BRIGHTNESS, STAR_MAX_BRIGHTNESS,
          STAR_LARGE_THRESHOLD, STAR_MEDIUM_THRESHOLD, STAR_FIELD_MULTIPLIER, STAR_FIELD_SPREAD,
          MIN_PARALLAX, MAX_PARALLAX, INITIAL_ASTEROID_COUNT, XP_LEVEL_BASE, XP_LEVEL_GROWTH,
          ASTEROID_SIZE_LARGE, ASTEROID_SIZE_MEDIUM, ASTEROID_SIZE_SMALL,
          XP_PICKUP_VALUE, XP_DROP_WEIGHTS, CURRENCY_DROP_CHANCE, CURRENCY_DROP_WEIGHTS,
-         HYPER_JUMP_COUNTDOWN_MS, SURVIVAL_SPEED_LIMIT_MULTIPLIER, SURVIVAL_SPEED_CURVE_TAU,
-         WAVE_SPEED_LIMIT_MULTIPLIER, WAVE_SPEED_CURVE_TAU } from '../utils/constants.js';
+         HYPER_JUMP_COUNTDOWN_MS, WAVE_SPEED_LIMIT_MULTIPLIER, WAVE_SPEED_CURVE_TAU } from '../utils/constants.js';
 
 export function useGameWorld({
   shipRef,
   bulletsRef,
   setBulletCount,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   modeRef,
   setUiState,
 }) {
   const starsRef = useRef([]);
   const asteroidsRef = useRef([]);
   const asteroidCountsRef = useRef({ large: 0, medium: 0, small: 0 });
   const xpRef = useRef(0);
   const levelRef = useRef(1);
   const stageRef = useRef(1);
   const baseAsteroidCountRef = useRef(INITIAL_ASTEROID_COUNT);
   const stageClearedRef = useRef(false);
   const currencyRef = useRef(0);
   const pickupsRef = useRef([]);
   const hyperCountdownRef = useRef(0);
   const hyperCountdownIntervalRef = useRef(null);
   const hyperCountdownTimeoutRef = useRef(null);
   const waveSpeedMultiplierRef = useRef(1);
----------

diff --git a//dev/null b/src/hooks/useHyperCountdownDisplay.js
index 0000000000000000000000000000000000000000..dffe33ac0d7477389469ff440e5fb99504aed1d7 100644
--- a//dev/null
+++ b/src/hooks/useHyperCountdownDisplay.js
@@ -0,0 +1,37 @@
+import { useMemo } from 'react';
+import {
+  HYPER_JUMP_COUNTDOWN_MS,
+  COUNTDOWN_COLOR_RANGE_DEGREES,
+  COUNTDOWN_SATURATION_PERCENT,
+  COUNTDOWN_LIGHTNESS_BASE_PERCENT,
+  COUNTDOWN_LIGHTNESS_DELTA,
+  COUNTDOWN_BRIGHTNESS_BOOST,
+} from '../utils/constants.js';
+
+export function useHyperCountdownDisplay({ mode, hyperCountdownMs }) {
+  return useMemo(() => {
+    const countdownActive = mode === 'waves' && hyperCountdownMs > 0;
+    if (!countdownActive) {
+      return {
+        countdownActive: false,
+        countdownColor: undefined,
+        outerSpaceStyle: undefined,
+        countdownRatio: 0,
+      };
+    }
+
+    const countdownRatio = Math.max(0, Math.min(1, hyperCountdownMs / HYPER_JUMP_COUNTDOWN_MS));
+    const countdownHue = Math.round(COUNTDOWN_COLOR_RANGE_DEGREES * countdownRatio);
+    const countdownLightness =
+      COUNTDOWN_LIGHTNESS_BASE_PERCENT + (1 - countdownRatio) * COUNTDOWN_LIGHTNESS_DELTA;
+    const countdownColor = `hsl(${countdownHue}, ${COUNTDOWN_SATURATION_PERCENT}%, ${countdownLightness}%)`;
+    const brightness = 1 + (1 - countdownRatio) * COUNTDOWN_BRIGHTNESS_BOOST;
+
+    return {
+      countdownActive,
+      countdownColor,
+      outerSpaceStyle: { filter: `brightness(${brightness})` },
+      countdownRatio,
+    };
+  }, [mode, hyperCountdownMs]);
+}
---------

diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..52b40cc78cca12f9b4e15b814e0a5f911af1d7f5 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -2,54 +2,52 @@
 
 import { Minimap } from '../components/Minimap.js';
 
 export function renderScene({
   canvasRef,
   canvasWidthRef,
   canvasHeightRef,
   minimapCanvasRef,
   cameraRef,
   starsRef,
   shipRef,
   asteroidsRef,
   bulletsRef,
   pickupsRef,
   mousePositionRef,
   gameStartedRef,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   deathExplosionRef,
   CROSSHAIR_SIZE,
 }) {
   const canvas = canvasRef.current;
   if (!canvas) return;
 
-  let ctx;
-  try {
-    ctx = canvas.getContext('2d');
-  } catch {}
+  if (typeof canvas.getContext !== 'function') return;
+  const ctx = canvas.getContext('2d');
   if (!ctx) return;
   const canvasWidth = canvasWidthRef.current || 1200;
   const canvasHeight = canvasHeightRef.current || 900;
   ctx.clearRect(0, 0, canvasWidth, canvasHeight);
 
   const nowMs = performance.now();
 
   const camera = cameraRef.current;
 
   // Draw parallax stars (background) - with hyperspace effect support
   if (hyperSpaceJumpEffectRef.current.active &&
       (hyperSpaceJumpEffectRef.current.phase === 'brighten' ||
        hyperSpaceJumpEffectRef.current.phase === 'streaking')) {
     hyperSpaceJumpEffectRef.current.drawStars(ctx, starsRef.current, camera, canvasWidth, canvasHeight);
   } else {
     starsRef.current.forEach((star) => {
       // Calculate parallax position
       const parallaxX = star.x - camera.x * star.parallax;
       const parallaxY = star.y - camera.y * star.parallax;
 
       const screenPos = camera.worldToScreen(parallaxX, parallaxY, canvasWidth, canvasHeight);
 
       // Only draw if visible (with margin for star wrapping)
       if (screenPos.x >= -50 && screenPos.x <= canvasWidth + 50 &&
           screenPos.y >= -50 && screenPos.y <= canvasHeight + 50) {
diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..52b40cc78cca12f9b4e15b814e0a5f911af1d7f5 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -126,35 +124,32 @@ export function renderScene({
 
   // Draw crosshair at mouse position
   if (gameStartedRef.current) {
     const mousePos = mousePositionRef.current;
     const screenPos = camera.worldToScreen(mousePos.x, mousePos.y, canvasWidth, canvasHeight);
     ctx.strokeStyle = 'white';
     ctx.lineWidth = 2;
     ctx.beginPath();
     // Horizontal line
     ctx.moveTo(screenPos.x - CROSSHAIR_SIZE, screenPos.y);
     ctx.lineTo(screenPos.x + CROSSHAIR_SIZE, screenPos.y);
     // Vertical line
     ctx.moveTo(screenPos.x, screenPos.y - CROSSHAIR_SIZE);
     ctx.lineTo(screenPos.x, screenPos.y + CROSSHAIR_SIZE);
     ctx.stroke();
   }
 
   // Draw effects (overlay)
   levelUpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   stageClearEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   hyperSpaceJumpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   deathExplosionRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
 
   // Render minimap
   const minimapCanvas = minimapCanvasRef?.current;
-  if (minimapCanvas) {
-    let minimapCtx;
-    try {
-      minimapCtx = minimapCanvas.getContext('2d');
-    } catch {}
+  if (minimapCanvas && typeof minimapCanvas.getContext === 'function') {
+    const minimapCtx = minimapCanvas.getContext('2d');
     if (minimapCtx) {
       Minimap.draw(minimapCtx, shipRef.current, asteroidsRef.current, pickupsRef?.current ?? [], camera);
     }
   }
 }
-------------

diff --git a/vitest.setup.js b/vitest.setup.js
index 1d0af624ec04078e7c7932e760d30a04ec09cae2..5e5c34a84b6f752b718746fda8fc52c5b15684d3 100644
--- a/vitest.setup.js
+++ b/vitest.setup.js
@@ -58,32 +58,32 @@ HTMLCanvasElement.prototype.getContext = vi.fn(function(type) {
       })),
       createPattern: vi.fn(),
       setLineDash: vi.fn(),
       getLineDash: vi.fn(() => []),
       lineDashOffset: 0
     };
   }
   return null;
 });
 
 // Mock getBoundingClientRect
 HTMLCanvasElement.prototype.getBoundingClientRect = vi.fn(function() {
   return {
     x: 0,
     y: 0,
     width: 1200,
     height: 900,
     top: 0,
     right: 1200,
     bottom: 900,
     left: 0
   };
 });
 
 // Mock requestAnimationFrame and cancelAnimationFrame
-global.requestAnimationFrame = vi.fn((callback) => {
+globalThis.requestAnimationFrame = vi.fn((callback) => {
   return setTimeout(callback, 16); // ~60fps
 });
 
-global.cancelAnimationFrame = vi.fn((id) => {
+globalThis.cancelAnimationFrame = vi.fn((id) => {
   clearTimeout(id);
-});
+});

======= RUN 4 ======

Summary

Updated App to pull the pause screen and HUD from the UI suite so the redesigned overlay can handle resume and exit actions consistently.

Renamed the HUD component to Hud while keeping its XP, minimap, and stat presentation intact to satisfy lint rules.

Consolidated styling and infrastructure by moving overflow rules to index.css, adding pause overlay styling, and simplifying renderer context access along with Vitest animation-frame mocks.

diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..56e0eebdde716bb898a1ded45b40599c1aafaeb8 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -1,50 +1,49 @@
 import { useRef, useEffect, useState, useCallback } from 'react';
 import { Ship } from './components/Ship.js';
 import { CANVAS_WIDTH, CANVAS_HEIGHT, CROSSHAIR_SIZE, INITIAL_LIVES, WORLD_WIDTH, WORLD_HEIGHT, HYPER_JUMP_COUNTDOWN_MS, PLAYFIELD_FRAME_BORDER_OFFSET, COUNTDOWN_COLOR_RANGE_DEGREES, COUNTDOWN_SATURATION_PERCENT, COUNTDOWN_LIGHTNESS_BASE_PERCENT, COUNTDOWN_LIGHTNESS_DELTA, COUNTDOWN_BRIGHTNESS_BOOST } from './utils/constants.js';
 import { LevelUpEffect } from './effects/LevelUpEffect.js';
 import { StageClearEffect } from './effects/StageClearEffect.js';
 import { HyperSpaceJumpEffect } from './effects/HyperSpaceJumpEffect.js';
 import { DeathExplosion } from './effects/DeathExplosion.js';
 import { Camera } from './utils/camera.js';
 import { useGameWorld } from './hooks/useGameWorld.js';
 import { useGameSession } from './hooks/useGameSession.js';
 import { useGameControls } from './hooks/useGameControls.js';
 import { useGameLogic } from './hooks/useGameLogic.js';
 import { useResponsiveLayout } from './hooks/useResponsiveLayout.js';
 import { useGameLoop } from './hooks/useGameLoop.js';
 import { useGameTimer } from './hooks/useGameTimer.js';
 import { renderScene } from './render/gameRenderer.js';
 import { formatCountdown } from './utils/time.js';
-import PauseOverlay from './components/PauseOverlay.jsx';
-import HUD from './components/ui/HUD';
+import PauseOverlay from './components/ui/PauseOverlay.jsx';
+import Hud from './components/ui/Hud.jsx';
 import StartScreen from './components/ui/StartScreen';
 import GameOverOverlay from './components/ui/GameOverOverlay';
 import TestConsole from './components/ui/TestConsole.jsx';
 import DebugStatsDisplay from './components/ui/DebugStatsDisplay.jsx';
 import { useTestConsole } from './hooks/useTestConsole.js';
-import './App.css';
 import './styles/theme.css';
 import './styles/ui.css';
 
 function App() {
   const canvasRef = useRef(null);
   const playAreaRef = useRef(null);
   const canvasWidthRef = useRef(CANVAS_WIDTH);
   const canvasHeightRef = useRef(CANVAS_HEIGHT);
   const minimapCanvasRef = useRef(null);
   const shipRef = useRef(new Ship(WORLD_WIDTH / 2, WORLD_HEIGHT / 2));
   const cameraRef = useRef(new Camera());
   const bulletsRef = useRef([]);
   const keysRef = useRef({});
   const mousePositionRef = useRef({ x: 0, y: 0 });
   const mouseScreenRef = useRef({ x: CANVAS_WIDTH / 2, y: CANVAS_HEIGHT / 2 });
   const isMouseDownRef = useRef(false);
   const isPausedRef = useRef(false);
   const testingModeRef = useRef(false);
   const gameStartedRef = useRef(false);
   const gameOverRef = useRef(false);
   const livesRef = useRef(INITIAL_LIVES);
   const lastShotTimeRef = useRef(0);
   const levelUpEffectRef = useRef(new LevelUpEffect());
   const stageClearEffectRef = useRef(new StageClearEffect());
   const hyperSpaceJumpEffectRef = useRef(new HyperSpaceJumpEffect());
diff --git a/src/App.jsx b/src/App.jsx
index 24de9b603b8639f2abba4ebbc2d7d22ee22281f5..56e0eebdde716bb898a1ded45b40599c1aafaeb8 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -271,51 +270,51 @@ function App() {
   const xpNeededForCurrentLevel = xpNeededForNextLevel(uiState.level);
 
   return (
     <div className="outerSpace" style={outerSpaceStyle}>
       <div
         ref={playAreaRef}
         className="playfieldFrame"
         style={{
           width: canvasWidthRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           height: canvasHeightRef.current + PLAYFIELD_FRAME_BORDER_OFFSET,
           left: `${metaLayout.playX}px`,
           top: `${metaLayout.playY}px`,
           position: 'absolute'
         }}
       >
         <canvas
           ref={canvasRef}
           width={canvasWidthRef.current}
           height={canvasHeightRef.current}
           className="game-canvas"
           role="img"
           aria-label="Asteroids play area"
         />
       </div>
 
-      <HUD
+      <Hud
         xp={uiState.xp}
         xpMax={xpNeededForCurrentLevel}
         level={uiState.level}
         lives={uiState.lives}
         wave={uiState.mode === 'waves' ? stageRef.current : 1}
         time={formattedTime}
         currency={uiState.currency}
         minimapRef={minimapCanvasRef}
         mode={uiState.mode}
       />
 
       {countdownActive && (
         <div className="hyperCountdownBanner" style={{ color: countdownColor }}>
           <span className="label">Hyper jump in</span>
           <span className="timer mono">{formatCountdown(uiState.hyperCountdownMs)}</span>
         </div>
       )}
 
       {!uiState.gameStarted && (
         <StartScreen
           onStartWaves={() => session.handleSelectMode('waves')}
           onStartSurvival={() => session.handleSelectMode('survival')}
         />
       )}
 
--------

diff --git a/src/App.test.jsx b/src/App.test.jsx
index 49fa4b9f1be2ae10caa1ab5506f3e8f4c666191b..589557e1929494ccde995730eeb5ca9b1e2e8cdb 100644
--- a/src/App.test.jsx
+++ b/src/App.test.jsx
@@ -1,32 +1,32 @@
 import { render, fireEvent, screen, act } from '@testing-library/react';
 import { describe, it, expect, vi } from 'vitest';
 import App from './App.jsx';
 import { BULLET_FIRE_RATE, MAX_BULLETS } from './utils/constants.js';
 
 describe('bullet firing limits', () => {
   it('caps bullets at MAX_BULLETS when holding fire', () => {
     vi.useFakeTimers();
     vi.setSystemTime(0);
 
     render(<App />);
 
-    // Click StartOverlay "Waves" button to start
+    // Click the StartScreen "Waves" button to start
     const wavesButton = screen.getByRole('button', { name: /^waves/i });
     fireEvent.click(wavesButton);
 
     // Hold Space to fire
     fireEvent.keyDown(window, { code: 'Space' });
 
     for (let i = 0; i < MAX_BULLETS + 2; i++) {
       act(() => {
         vi.advanceTimersByTime(BULLET_FIRE_RATE);
       });
     }
 
     const count = Number(screen.getByTestId('bullet-count').textContent);
     expect(count).toBeLessThanOrEqual(MAX_BULLETS);
 
     fireEvent.keyUp(window, { code: 'Space' });
     vi.useRealTimers();
   });
 });
---------

diff --git a/src/components/ui/HUD.jsx b/src/components/ui/Hud.jsx
index 96c40945281b3eee03f203b5f44be2ae93746614..27e55733ed970baaee00da98644b256236794745 100644
--- a/src/components/ui/HUD.jsx
+++ b/src/components/ui/Hud.jsx
@@ -1,28 +1,28 @@
 import React from 'react';
 
-export default function HUD({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
+export default function Hud({ xp, xpMax, level, lives, wave, time, currency, minimapRef, mode }) {
   const pct = Math.max(0, Math.min(1, xpMax ? xp / xpMax : 0));
   const showWave = mode === 'waves';
   const showTime = mode === 'survival';
 
   return (
     <div className="hudRoot">
       <div className="xpBar">
         <div className="xpFill" style={{ width: `${pct * 100}%` }} />
         <div className="xpText">{`${xp} / ${xpMax} XP`}</div>
       </div>
 
       <div className="hudPanels">
         <div className="hudPanel">
           <div className="hudColumn">
             <div className="hudLabel">Level</div>
             <div className="hudValue">{level}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Lives</div>
             <div className="hudValue">{lives}</div>
           </div>
           <div className="hudColumn">
             <div className="hudLabel">Currency</div>
             <div className="hudValue">{currency}</div>
           </div>
------

diff --git a//dev/null b/src/components/ui/PauseOverlay.jsx
index 0000000000000000000000000000000000000000..dc9f7f81a764ade515e43679c7730760248ca195 100644
--- a//dev/null
+++ b/src/components/ui/PauseOverlay.jsx
@@ -0,0 +1,89 @@
+import React from 'react';
+
+const DEFAULT_COUNT = 0;
+
+export default function PauseOverlay({
+  xp = 0,
+  lives = 0,
+  largeCount = DEFAULT_COUNT,
+  mediumCount = DEFAULT_COUNT,
+  smallCount = DEFAULT_COUNT,
+  onResume,
+  onExit,
+}) {
+  const totalAsteroids = (largeCount || 0) + (mediumCount || 0) + (smallCount || 0);
+
+  const handlePanelClick = (event) => {
+    event.stopPropagation();
+  };
+
+  const handleResumeClick = (event) => {
+    event.stopPropagation();
+    onResume?.();
+  };
+
+  const handleExitClick = (event) => {
+    event.stopPropagation();
+    onExit?.();
+  };
+
+  return (
+    <div
+      className="overlayRoot pauseOverlay"
+      onClick={onResume}
+      role="presentation"
+    >
+      <div
+        className="panel modal pauseOverlay__panel"
+        role="dialog"
+        aria-modal="true"
+        aria-labelledby="pause-overlay-title"
+        onClick={handlePanelClick}
+      >
+        <h2 id="pause-overlay-title" className="title">Paused</h2>
+        <p className="subtitle">Click outside the panel or press Esc to resume.</p>
+
+        <div className="pauseOverlay__stats">
+          <div className="pauseOverlay__statsItem">
+            <span className="pauseOverlay__statsLabel">XP</span>
+            <span className="pauseOverlay__statsValue">{xp}</span>
+          </div>
+          <div className="pauseOverlay__statsItem">
+            <span className="pauseOverlay__statsLabel">Lives</span>
+            <span className="pauseOverlay__statsValue">{lives}</span>
+          </div>
+        </div>
+
+        <div className="pauseOverlay__asteroids">
+          <div className="pauseOverlay__asteroidsHeader">
+            <span>Asteroids Remaining</span>
+            <span className="pauseOverlay__asteroidsCount">{totalAsteroids}</span>
+          </div>
+          <div className="pauseOverlay__asteroidList">
+            <div className="pauseOverlay__asteroidItem">
+              <span className="pauseOverlay__asteroidLabel">Large</span>
+              <span className="pauseOverlay__asteroidValue">{largeCount || 0}</span>
+            </div>
+            <div className="pauseOverlay__asteroidItem">
+              <span className="pauseOverlay__asteroidLabel">Medium</span>
+              <span className="pauseOverlay__asteroidValue">{mediumCount || 0}</span>
+            </div>
+            <div className="pauseOverlay__asteroidItem">
+              <span className="pauseOverlay__asteroidLabel">Small</span>
+              <span className="pauseOverlay__asteroidValue">{smallCount || 0}</span>
+            </div>
+          </div>
+        </div>
+
+        <div className="pauseOverlay__actions">
+          <button type="button" className="btn primary" onClick={handleResumeClick}>
+            Resume
+          </button>
+          <button type="button" className="btn" onClick={handleExitClick}>
+            Exit to Menu
+          </button>
+        </div>
+      </div>
+    </div>
+  );
+}
---------

diff --git a/src/hooks/useGameWorld.js b/src/hooks/useGameWorld.js
index d0872f02c750740f5101f355292b91e415f2469a..8b106511d7e5cc247f832e2da5c81f2d098cf2ed 100644
--- a/src/hooks/useGameWorld.js
+++ b/src/hooks/useGameWorld.js
@@ -1,34 +1,34 @@
 import { useRef, useCallback } from 'react';
 import { Asteroid } from '../components/Asteroid.js';
 import { Pickup } from '../components/Pickup.js';
 import { WORLD_WIDTH, WORLD_HEIGHT, STAR_COUNT, STAR_MIN_BRIGHTNESS, STAR_MAX_BRIGHTNESS,
          STAR_LARGE_THRESHOLD, STAR_MEDIUM_THRESHOLD, STAR_FIELD_MULTIPLIER, STAR_FIELD_SPREAD,
          MIN_PARALLAX, MAX_PARALLAX, INITIAL_ASTEROID_COUNT, XP_LEVEL_BASE, XP_LEVEL_GROWTH,
          ASTEROID_SIZE_LARGE, ASTEROID_SIZE_MEDIUM, ASTEROID_SIZE_SMALL,
          XP_PICKUP_VALUE, XP_DROP_WEIGHTS, CURRENCY_DROP_CHANCE, CURRENCY_DROP_WEIGHTS,
-         HYPER_JUMP_COUNTDOWN_MS, SURVIVAL_SPEED_LIMIT_MULTIPLIER, SURVIVAL_SPEED_CURVE_TAU,
+         HYPER_JUMP_COUNTDOWN_MS,
          WAVE_SPEED_LIMIT_MULTIPLIER, WAVE_SPEED_CURVE_TAU } from '../utils/constants.js';
 
 export function useGameWorld({
   shipRef,
   bulletsRef,
   setBulletCount,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   modeRef,
   setUiState,
 }) {
   const starsRef = useRef([]);
   const asteroidsRef = useRef([]);
   const asteroidCountsRef = useRef({ large: 0, medium: 0, small: 0 });
   const xpRef = useRef(0);
   const levelRef = useRef(1);
   const stageRef = useRef(1);
   const baseAsteroidCountRef = useRef(INITIAL_ASTEROID_COUNT);
   const stageClearedRef = useRef(false);
   const currencyRef = useRef(0);
   const pickupsRef = useRef([]);
   const hyperCountdownRef = useRef(0);
   const hyperCountdownIntervalRef = useRef(null);
   const hyperCountdownTimeoutRef = useRef(null);
-------

diff --git a/src/index.css b/src/index.css
index 476d908cac1a3a5140e9f21ceb0f3261be97c6e8..e1f578d76d481ac2e5c8e3aedceb996c630440c6 100644
--- a/src/index.css
+++ b/src/index.css
@@ -1,43 +1,49 @@
 :root {
   font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
   line-height: 1.5;
   font-weight: 400;
 
   color-scheme: dark;
   color: rgba(255, 255, 255, 0.87);
   background-color: #000000;
 
   font-synthesis: none;
   text-rendering: optimizeLegibility;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
 }
 
+html,
 body {
   margin: 0;
   padding: 0;
+  height: 100%;
+  overflow: hidden;
+}
+
+body {
   background-color: #000000;
   min-width: 320px;
   min-height: 100vh;
 }
 
 button {
   border-radius: 8px;
   border: 1px solid transparent;
   padding: 0.6em 1.2em;
   font-size: 1em;
   font-weight: 500;
   font-family: inherit;
   background-color: #1a1a1a;
   cursor: pointer;
   transition: border-color 0.25s;
 }
 button:hover {
   border-color: #646cff;
 }
 button:focus,
 button:focus-visible {
   outline: 4px auto -webkit-focus-ring-color;
 }
 
 @media (prefers-color-scheme: light) {
--------

diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..598bda3025b3c3e1e0acb7e8c7fecd670f2340df 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -2,54 +2,51 @@
 
 import { Minimap } from '../components/Minimap.js';
 
 export function renderScene({
   canvasRef,
   canvasWidthRef,
   canvasHeightRef,
   minimapCanvasRef,
   cameraRef,
   starsRef,
   shipRef,
   asteroidsRef,
   bulletsRef,
   pickupsRef,
   mousePositionRef,
   gameStartedRef,
   levelUpEffectRef,
   stageClearEffectRef,
   hyperSpaceJumpEffectRef,
   deathExplosionRef,
   CROSSHAIR_SIZE,
 }) {
   const canvas = canvasRef.current;
   if (!canvas) return;
 
-  let ctx;
-  try {
-    ctx = canvas.getContext('2d');
-  } catch {}
+  const ctx = canvas.getContext('2d');
   if (!ctx) return;
   const canvasWidth = canvasWidthRef.current || 1200;
   const canvasHeight = canvasHeightRef.current || 900;
   ctx.clearRect(0, 0, canvasWidth, canvasHeight);
 
   const nowMs = performance.now();
 
   const camera = cameraRef.current;
 
   // Draw parallax stars (background) - with hyperspace effect support
   if (hyperSpaceJumpEffectRef.current.active &&
       (hyperSpaceJumpEffectRef.current.phase === 'brighten' ||
        hyperSpaceJumpEffectRef.current.phase === 'streaking')) {
     hyperSpaceJumpEffectRef.current.drawStars(ctx, starsRef.current, camera, canvasWidth, canvasHeight);
   } else {
     starsRef.current.forEach((star) => {
       // Calculate parallax position
       const parallaxX = star.x - camera.x * star.parallax;
       const parallaxY = star.y - camera.y * star.parallax;
 
       const screenPos = camera.worldToScreen(parallaxX, parallaxY, canvasWidth, canvasHeight);
 
       // Only draw if visible (with margin for star wrapping)
       if (screenPos.x >= -50 && screenPos.x <= canvasWidth + 50 &&
           screenPos.y >= -50 && screenPos.y <= canvasHeight + 50) {
diff --git a/src/render/gameRenderer.js b/src/render/gameRenderer.js
index e26c8e55909090e90d1638d0176294c9740d3fd0..598bda3025b3c3e1e0acb7e8c7fecd670f2340df 100644
--- a/src/render/gameRenderer.js
+++ b/src/render/gameRenderer.js
@@ -127,34 +124,31 @@ export function renderScene({
   // Draw crosshair at mouse position
   if (gameStartedRef.current) {
     const mousePos = mousePositionRef.current;
     const screenPos = camera.worldToScreen(mousePos.x, mousePos.y, canvasWidth, canvasHeight);
     ctx.strokeStyle = 'white';
     ctx.lineWidth = 2;
     ctx.beginPath();
     // Horizontal line
     ctx.moveTo(screenPos.x - CROSSHAIR_SIZE, screenPos.y);
     ctx.lineTo(screenPos.x + CROSSHAIR_SIZE, screenPos.y);
     // Vertical line
     ctx.moveTo(screenPos.x, screenPos.y - CROSSHAIR_SIZE);
     ctx.lineTo(screenPos.x, screenPos.y + CROSSHAIR_SIZE);
     ctx.stroke();
   }
 
   // Draw effects (overlay)
   levelUpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   stageClearEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   hyperSpaceJumpEffectRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
   deathExplosionRef.current.draw(ctx, camera, canvasWidth, canvasHeight);
 
   // Render minimap
   const minimapCanvas = minimapCanvasRef?.current;
   if (minimapCanvas) {
-    let minimapCtx;
-    try {
-      minimapCtx = minimapCanvas.getContext('2d');
-    } catch {}
+    const minimapCtx = minimapCanvas.getContext('2d');
     if (minimapCtx) {
       Minimap.draw(minimapCtx, shipRef.current, asteroidsRef.current, pickupsRef?.current ?? [], camera);
     }
   }
 }
--------

diff --git a/src/styles/ui.css b/src/styles/ui.css
index 0c755288e95bfe971524c4bb2881e27b4abad6b8..ca54461d1dc7672dfc0178ff0214b9b9e10a8b31 100644
--- a/src/styles/ui.css
+++ b/src/styles/ui.css
@@ -79,50 +79,124 @@
   position: fixed;
   inset: 0;
   display: grid;
   place-items: center;
   background: rgba(0,0,0,0.3);
 }
 .panel.modal {
   border: 2px solid var(--line);
   border-radius: 12px;
   padding: 20px 24px;
   width: min(520px, 90vw);
   background: var(--panel-bg);
   backdrop-filter: var(--panel-blur);
   box-shadow: 0 10px 40px rgba(0,0,0,0.6);
   text-align: center;
 }
 .title { margin: 4px 0 8px; letter-spacing: 2px; }
 .subtitle { margin: 0 0 14px; color: var(--fg-dim); }
 .row { display: flex; gap: 12px; justify-content: center; }
 .statsRow {
   display: grid;
   grid-template-columns: repeat(2,1fr);
   gap: 8px 16px;
   margin: 8px 0 16px;
 }
+.pauseOverlay { cursor: pointer; }
+.pauseOverlay__panel {
+  cursor: default;
+  display: flex;
+  flex-direction: column;
+  gap: 16px;
+}
+.pauseOverlay__stats {
+  display: grid;
+  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
+  gap: 12px;
+}
+.pauseOverlay__statsItem {
+  padding: 10px;
+  border: 1px solid rgba(255, 255, 255, 0.1);
+  border-radius: 8px;
+  background: rgba(255, 255, 255, 0.05);
+}
+.pauseOverlay__statsLabel {
+  display: block;
+  font-size: 11px;
+  letter-spacing: 1px;
+  color: var(--fg-dim);
+  text-transform: uppercase;
+}
+.pauseOverlay__statsValue {
+  display: block;
+  font-size: 22px;
+  font-weight: 600;
+}
+.pauseOverlay__asteroids {
+  padding-top: 12px;
+  border-top: 1px solid rgba(255, 255, 255, 0.08);
+  display: grid;
+  gap: 12px;
+}
+.pauseOverlay__asteroidsHeader {
+  display: flex;
+  justify-content: space-between;
+  align-items: baseline;
+  font-size: 14px;
+}
+.pauseOverlay__asteroidsCount {
+  font-size: 20px;
+  font-weight: 700;
+}
+.pauseOverlay__asteroidList {
+  display: grid;
+  grid-template-columns: repeat(3, minmax(0, 1fr));
+  gap: 10px;
+}
+.pauseOverlay__asteroidItem {
+  text-align: center;
+  padding: 8px;
+  border: 1px solid rgba(255, 255, 255, 0.06);
+  border-radius: 8px;
+  background: rgba(255, 255, 255, 0.03);
+}
+.pauseOverlay__asteroidLabel {
+  font-size: 11px;
+  text-transform: uppercase;
+  letter-spacing: 1px;
+  color: var(--fg-dim);
+}
+.pauseOverlay__asteroidValue {
+  font-size: 18px;
+  font-weight: 600;
+}
+.pauseOverlay__actions {
+  display: flex;
+  justify-content: center;
+  gap: 12px;
+  margin-top: 4px;
+}
 .btn {
   padding: 10px 14px;
   border: 2px solid var(--line);
   border-radius: 10px;
   background: transparent;
   color: var(--fg);
   cursor: pointer;
 }
 .btn.primary {
   border-color: var(--accent);
   box-shadow: 0 0 12px rgba(156, 240, 109, 0.25) inset;
 }
 .btn:active { transform: translateY(1px); }
 .help { margin-top: 10px; color: var(--fg-dim); }
 
 /* Test console */
 .testConsole {
   position: fixed;
   top: 0;
   right: 0;
   width: min(420px, 33vw);
   height: 100vh;
   display: flex;
   flex-direction: column;
   gap: 18px;
-------

diff --git a/vitest.setup.js b/vitest.setup.js
index 1d0af624ec04078e7c7932e760d30a04ec09cae2..f28680258a67a06fb160eb854e180373a05ad3c7 100644
--- a/vitest.setup.js
+++ b/vitest.setup.js
@@ -58,32 +58,33 @@ HTMLCanvasElement.prototype.getContext = vi.fn(function(type) {
       })),
       createPattern: vi.fn(),
       setLineDash: vi.fn(),
       getLineDash: vi.fn(() => []),
       lineDashOffset: 0
     };
   }
   return null;
 });
 
 // Mock getBoundingClientRect
 HTMLCanvasElement.prototype.getBoundingClientRect = vi.fn(function() {
   return {
     x: 0,
     y: 0,
     width: 1200,
     height: 900,
     top: 0,
     right: 1200,
     bottom: 900,
     left: 0
   };
 });
 
 // Mock requestAnimationFrame and cancelAnimationFrame
-global.requestAnimationFrame = vi.fn((callback) => {
+globalThis.requestAnimationFrame = vi.fn((callback) => {
   return setTimeout(callback, 16); // ~60fps
 });
 
-global.cancelAnimationFrame = vi.fn((id) => {
+globalThis.cancelAnimationFrame = vi.fn((id) => {
   clearTimeout(id);
-});
+});
+
--------

